/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/entries/h5p-ar-scavenger.js":
/*!*****************************************!*\
  !*** ./src/entries/h5p-ar-scavenger.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _styles_h5p_ar_scavenger_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../styles/h5p-ar-scavenger.css */ \"./src/styles/h5p-ar-scavenger.css\");\n/* harmony import */ var _scripts_h5p_ar_scavenger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scripts/h5p-ar-scavenger */ \"./src/scripts/h5p-ar-scavenger.js\");\n\n // Load library\n\nH5P = H5P || {};\nH5P.ARScavenger = _scripts_h5p_ar_scavenger__WEBPACK_IMPORTED_MODULE_1__.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW50cmllcy9oNXAtYXItc2NhdmVuZ2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaDVwLWFyLXNjYXZlbmdlci8uL3NyYy9lbnRyaWVzL2g1cC1hci1zY2F2ZW5nZXIuanM/ZmYwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCIuLi9zdHlsZXMvaDVwLWFyLXNjYXZlbmdlci5jc3NcIjtcbmltcG9ydCBBUlNjYXZlbmdlciBmcm9tIFwiLi4vc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyXCI7XG5cbi8vIExvYWQgbGlicmFyeVxuSDVQID0gSDVQIHx8IHt9O1xuSDVQLkFSU2NhdmVuZ2VyID0gQVJTY2F2ZW5nZXI7XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/entries/h5p-ar-scavenger.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-button.js":
/*!************************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-button.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavengerButton)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\n// Import required classes\n\n/** Class representing the content */\n\nvar ARScavengerButton = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameter from editor.\n   * @param {object} [callbacks] Callbacks.\n   */\n  function ARScavengerButton(params, callbacks) {\n    var _this = this;\n\n    // Set missing params\n    this.params = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__.default.extend({\n      a11y: {\n        active: '',\n        disabled: '',\n        inactive: ''\n      },\n      active: false,\n      classes: [],\n      disabled: false,\n      type: 'pulse'\n    }, params || {});\n\n    if (!Array.isArray(this.params.classes)) {\n      this.params.classes = [this.params.classes];\n    }\n\n    if (this.params.type === 'pulse') {\n      if (!this.params.a11y.inactive) {\n        this.params.a11y.inactive = this.params.a11y.active || '';\n      }\n\n      if (!this.params.a11y.active) {\n        this.params.a11y.active = this.params.a11y.inactive || '';\n      }\n    }\n\n    this.active = this.params.active;\n    this.disabled = this.params.disabled; // Sanitize callbacks\n\n    this.callbacks = callbacks || {};\n\n    this.callbacks.onClick = this.callbacks.onClick || function () {}; // Button\n\n\n    this.button = document.createElement('div');\n\n    if (this.params.classes) {\n      this.params.classes.forEach(function (className) {\n        _this.button.classList.add(className);\n      });\n    }\n\n    this.button.setAttribute('aria-pressed', this.params.active);\n    this.button.setAttribute('role', 'button');\n    this.button.setAttribute('tabindex', '0');\n\n    if (this.params.active === true) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n\n    if (this.params.disabled === true) {\n      this.disable();\n    } else {\n      this.enable();\n    }\n\n    this.button.addEventListener('click', function (event) {\n      if (_this.disabled) {\n        return;\n      }\n\n      if (_this.params.type === 'toggle') {\n        _this.toggle();\n      }\n\n      _this.callbacks.onClick(event);\n    });\n  }\n  /**\n   * Return the DOM for this class.\n   * @return {HTMLElement} DOM for this class.\n   */\n\n\n  var _proto = ARScavengerButton.prototype;\n\n  _proto.getDOM = function getDOM() {\n    return this.button;\n  }\n  /**\n   * Show button.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.button.classList.remove('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Hide button.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.button.classList.add('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Enable button.\n   */\n  ;\n\n  _proto.enable = function enable() {\n    this.disabled = false;\n    this.button.classList.remove('h5p-ar-scavenger-button-disabled');\n\n    if (this.active) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  }\n  /**\n   * Disable button.\n   */\n  ;\n\n  _proto.disable = function disable() {\n    this.button.classList.add('h5p-ar-scavenger-button-disabled');\n    this.button.setAttribute('aria-label', this.params.a11y.disabled);\n    this.button.setAttribute('title', this.params.a11y.disabled);\n    this.disabled = true;\n  }\n  /**\n   * Activate button.\n   */\n  ;\n\n  _proto.activate = function activate() {\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.params.type === 'toggle') {\n      this.button.classList.add('h5p-ar-scavenger-button-active');\n      this.button.setAttribute('aria-pressed', true);\n    }\n\n    this.button.setAttribute('aria-label', this.params.a11y.active);\n    this.button.setAttribute('title', this.params.a11y.active);\n    this.active = true;\n  }\n  /**\n   * Deactivate button.\n   */\n  ;\n\n  _proto.deactivate = function deactivate() {\n    if (this.disabled) {\n      return;\n    }\n\n    this.active = false;\n\n    if (this.params.type === 'toggle') {\n      this.button.classList.remove('h5p-ar-scavenger-button-active');\n      this.button.setAttribute('aria-pressed', false);\n    }\n\n    this.button.setAttribute('aria-label', this.params.a11y.inactive);\n    this.button.setAttribute('title', this.params.a11y.inactive);\n  }\n  /**\n   * Toggle active state.\n   */\n  ;\n\n  _proto.toggle = function toggle() {\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.active) {\n      this.deactivate();\n    } else {\n      this.activate();\n    }\n  }\n  /**\n   * Determine whether button is active.\n   * @return {boolean} True, if button is active, else false.\n   */\n  ;\n\n  _proto.isActive = function isActive() {\n    return this.active;\n  }\n  /**\n   * Determine whether button is disabled.\n   * @return {boolean} True, if button is disabled, else false.\n   */\n  ;\n\n  _proto.isDisabled = function isDisabled() {\n    return this.disabled;\n  };\n\n  return ARScavengerButton;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLWJ1dHRvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2g1cC1hci1zY2F2ZW5nZXIvLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLWJ1dHRvbi5qcz84Y2FjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCByZXF1aXJlZCBjbGFzc2VzXG5pbXBvcnQgVXRpbCBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItdXRpbCc7XG5cbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIGNvbnRlbnQgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFSU2NhdmVuZ2VyQnV0dG9uIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIFBhcmFtZXRlciBmcm9tIGVkaXRvci5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtjYWxsYmFja3NdIENhbGxiYWNrcy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtcywgY2FsbGJhY2tzKSB7XG4gICAgLy8gU2V0IG1pc3NpbmcgcGFyYW1zXG4gICAgdGhpcy5wYXJhbXMgPSBVdGlsLmV4dGVuZCh7XG4gICAgICBhMTF5OiB7XG4gICAgICAgIGFjdGl2ZTogJycsXG4gICAgICAgIGRpc2FibGVkOiAnJyxcbiAgICAgICAgaW5hY3RpdmU6ICcnXG4gICAgICB9LFxuICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIGNsYXNzZXM6IFtdLFxuICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgdHlwZTogJ3B1bHNlJ1xuICAgIH0sIHBhcmFtcyB8fCB7fSk7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5wYXJhbXMuY2xhc3NlcykpIHtcbiAgICAgIHRoaXMucGFyYW1zLmNsYXNzZXMgPSBbdGhpcy5wYXJhbXMuY2xhc3Nlc107XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyYW1zLnR5cGUgPT09ICdwdWxzZScpIHtcbiAgICAgIGlmICghdGhpcy5wYXJhbXMuYTExeS5pbmFjdGl2ZSkge1xuICAgICAgICB0aGlzLnBhcmFtcy5hMTF5LmluYWN0aXZlID0gdGhpcy5wYXJhbXMuYTExeS5hY3RpdmUgfHwgJyc7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMucGFyYW1zLmExMXkuYWN0aXZlKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLmExMXkuYWN0aXZlID0gdGhpcy5wYXJhbXMuYTExeS5pbmFjdGl2ZSB8fCAnJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZSA9IHRoaXMucGFyYW1zLmFjdGl2ZTtcbiAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5wYXJhbXMuZGlzYWJsZWQ7XG5cbiAgICAvLyBTYW5pdGl6ZSBjYWxsYmFja3NcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7fTtcbiAgICB0aGlzLmNhbGxiYWNrcy5vbkNsaWNrID0gdGhpcy5jYWxsYmFja3Mub25DbGljayB8fCAoKCkgPT4ge30pO1xuXG4gICAgLy8gQnV0dG9uXG4gICAgdGhpcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGlmICh0aGlzLnBhcmFtcy5jbGFzc2VzKSB7XG4gICAgICB0aGlzLnBhcmFtcy5jbGFzc2VzLmZvckVhY2goKGNsYXNzTmFtZSkgPT4ge1xuICAgICAgICB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5idXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCB0aGlzLnBhcmFtcy5hY3RpdmUpO1xuICAgIHRoaXMuYnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICB0aGlzLmJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcblxuICAgIGlmICh0aGlzLnBhcmFtcy5hY3RpdmUgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXJhbXMuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucGFyYW1zLnR5cGUgPT09ICd0b2dnbGUnKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkNsaWNrKGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIERPTSBmb3IgdGhpcyBjbGFzcy5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IERPTSBmb3IgdGhpcyBjbGFzcy5cbiAgICovXG4gIGdldERPTSgpIHtcbiAgICByZXR1cm4gdGhpcy5idXR0b247XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBidXR0b24uXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSBidXR0b24uXG4gICAqL1xuICBoaWRlKCkge1xuICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIGJ1dHRvbi5cbiAgICovXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoNXAtYXItc2NhdmVuZ2VyLWJ1dHRvbi1kaXNhYmxlZCcpO1xuXG4gICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgYnV0dG9uLlxuICAgKi9cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLWJ1dHRvbi1kaXNhYmxlZCcpO1xuICAgIHRoaXMuYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMucGFyYW1zLmExMXkuZGlzYWJsZWQpO1xuICAgIHRoaXMuYnV0dG9uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aGlzLnBhcmFtcy5hMTF5LmRpc2FibGVkKTtcblxuICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlIGJ1dHRvbi5cbiAgICovXG4gIGFjdGl2YXRlKCkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyYW1zLnR5cGUgPT09ICd0b2dnbGUnKSB7XG4gICAgICB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLWJ1dHRvbi1hY3RpdmUnKTtcbiAgICAgIHRoaXMuYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5idXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpcy5wYXJhbXMuYTExeS5hY3RpdmUpO1xuICAgIHRoaXMuYnV0dG9uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aGlzLnBhcmFtcy5hMTF5LmFjdGl2ZSk7XG5cbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRGVhY3RpdmF0ZSBidXR0b24uXG4gICAqL1xuICBkZWFjdGl2YXRlKCkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhcmFtcy50eXBlID09PSAndG9nZ2xlJykge1xuICAgICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaDVwLWFyLXNjYXZlbmdlci1idXR0b24tYWN0aXZlJyk7XG4gICAgICB0aGlzLmJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsIGZhbHNlKTtcbiAgICB9XG5cbiAgICB0aGlzLmJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzLnBhcmFtcy5hMTF5LmluYWN0aXZlKTtcbiAgICB0aGlzLmJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgdGhpcy5wYXJhbXMuYTExeS5pbmFjdGl2ZSk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGFjdGl2ZSBzdGF0ZS5cbiAgICovXG4gIHRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBidXR0b24gaXMgYWN0aXZlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlLCBpZiBidXR0b24gaXMgYWN0aXZlLCBlbHNlIGZhbHNlLlxuICAgKi9cbiAgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGV0aGVyIGJ1dHRvbiBpcyBkaXNhYmxlZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSwgaWYgYnV0dG9uIGlzIGRpc2FibGVkLCBlbHNlIGZhbHNlLlxuICAgKi9cbiAgaXNEaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNhYmxlZDtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-button.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-content-action.js":
/*!********************************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-content-action.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavengerContentAction)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\n// Import required classes\n\n/** Class representing the action */\n\nvar ARScavengerContentAction = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameter from editor.\n   */\n  function ARScavengerContentAction(params, callbacks) {\n    // Sanitize params\n    this.params = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__.default.extend({\n      l10n: {\n        nothingToSee: ''\n      }\n    }, params || {}); // Sanitize callbacks\n\n    this.callbacks = callbacks || {};\n    this.message = document.createElement('div');\n    this.message.classList.add('h5p-ar-scavenger-content-action-message');\n    this.message.innerText = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__.default.htmlDecode(this.params.l10n.nothingToSee); // Library Wrapper\n\n    this.actionWrapper = document.createElement('div');\n    this.actionWrapper.classList.add('h5p-ar-scavenger-content-action-library-wrapper');\n    this.actionWrapper.classList.add('h5p-ar-scavenger-display-none'); // Content\n\n    this.content = document.createElement('div');\n    this.content.classList.add('h5p-ar-scavenger-content-action');\n    this.content.appendChild(this.actionWrapper);\n    this.content.appendChild(this.message); // Container\n\n    this.container = document.createElement('div');\n    this.container.classList.add('h5p-ar-scavenger-content-action-container');\n    this.container.appendChild(this.content);\n  }\n  /**\n   * Set maximum height.\n   * @param {number} maxHeight Maximum height for subject.\n   */\n\n\n  var _proto = ARScavengerContentAction.prototype;\n\n  _proto.resizeIframeHeight = function resizeIframeHeight(maxHeight) {\n    if (typeof maxHeight === 'number') {\n      this.container.style.maxHeight = \"\".concat(maxHeight, \"px\");\n    } else {\n      this.container.style.maxHeight = '';\n    }\n  }\n  /**\n   * Return the DOM for this class.\n   * @return {HTMLElement} DOM for this class.\n   */\n  ;\n\n  _proto.getDOM = function getDOM() {\n    return this.container;\n  }\n  /**\n   * Show action.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.container.classList.remove('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Show action.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.container.classList.add('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Toggle view between action visible/invisible.\n   */\n  ;\n\n  _proto.toggleView = function toggleView(state) {\n    if (state === undefined) {\n      this.container.classList.toggle('h5p-ar-scavenger-action-mode');\n    } else if (state) {\n      this.container.classList.add('h5p-ar-scavenger-action-mode');\n    } else {\n      this.container.classList.remove('h5p-ar-scavenger-action-mode');\n    }\n  }\n  /**\n   * Attach instance to action.\n   * @param {H5P.ContentType} instance Instance.\n   */\n  ;\n\n  _proto.attachInstance = function attachInstance(instanceDOM) {\n    this.content.removeChild(this.actionWrapper);\n    this.actionWrapper = instanceDOM;\n    this.content.appendChild(this.actionWrapper);\n  }\n  /**\n   * Show content.\n   */\n  ;\n\n  _proto.showContent = function showContent() {\n    this.actionWrapper.classList.remove('h5p-ar-scavenger-display-none');\n    this.message.classList.add('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Hide content.\n   */\n  ;\n\n  _proto.hideContent = function hideContent() {\n    this.actionWrapper.classList.add('h5p-ar-scavenger-display-none');\n    this.message.classList.remove('h5p-ar-scavenger-display-none');\n  };\n\n  return ARScavengerContentAction;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLWNvbnRlbnQtYWN0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaDVwLWFyLXNjYXZlbmdlci8uL3NyYy9zY3JpcHRzL2g1cC1hci1zY2F2ZW5nZXItY29udGVudC1hY3Rpb24uanM/Y2VmNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnQgcmVxdWlyZWQgY2xhc3Nlc1xuaW1wb3J0IFV0aWwgZnJvbSAnLi9oNXAtYXItc2NhdmVuZ2VyLXV0aWwnO1xuXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBhY3Rpb24gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFSU2NhdmVuZ2VyQ29udGVudEFjdGlvbiB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyBQYXJhbWV0ZXIgZnJvbSBlZGl0b3IuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMsIGNhbGxiYWNrcykge1xuICAgIC8vIFNhbml0aXplIHBhcmFtc1xuICAgIHRoaXMucGFyYW1zID0gVXRpbC5leHRlbmQoe1xuICAgICAgbDEwbjoge1xuICAgICAgICBub3RoaW5nVG9TZWU6ICcnXG4gICAgICB9XG4gICAgfSwgcGFyYW1zIHx8IHt9KTtcblxuICAgIC8vIFNhbml0aXplIGNhbGxiYWNrc1xuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzIHx8IHt9O1xuXG4gICAgdGhpcy5tZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5tZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItY29udGVudC1hY3Rpb24tbWVzc2FnZScpO1xuICAgIHRoaXMubWVzc2FnZS5pbm5lclRleHQgPSBVdGlsLmh0bWxEZWNvZGUodGhpcy5wYXJhbXMubDEwbi5ub3RoaW5nVG9TZWUpO1xuXG4gICAgLy8gTGlicmFyeSBXcmFwcGVyXG4gICAgdGhpcy5hY3Rpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5hY3Rpb25XcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItY29udGVudC1hY3Rpb24tbGlicmFyeS13cmFwcGVyJyk7XG4gICAgdGhpcy5hY3Rpb25XcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG5cbiAgICAvLyBDb250ZW50XG4gICAgdGhpcy5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5jb250ZW50LmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItY29udGVudC1hY3Rpb24nKTtcbiAgICB0aGlzLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5hY3Rpb25XcmFwcGVyKTtcbiAgICB0aGlzLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5tZXNzYWdlKTtcblxuICAgIC8vIENvbnRhaW5lclxuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1jb250ZW50LWFjdGlvbi1jb250YWluZXInKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBtYXhpbXVtIGhlaWdodC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEhlaWdodCBNYXhpbXVtIGhlaWdodCBmb3Igc3ViamVjdC5cbiAgICovXG4gIHJlc2l6ZUlmcmFtZUhlaWdodChtYXhIZWlnaHQpIHtcbiAgICBpZiAodHlwZW9mIG1heEhlaWdodCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IGAke21heEhlaWdodH1weGA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubWF4SGVpZ2h0ID0gJyc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgRE9NIGZvciB0aGlzIGNsYXNzLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gRE9NIGZvciB0aGlzIGNsYXNzLlxuICAgKi9cbiAgZ2V0RE9NKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGFjdGlvbi5cbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGFjdGlvbi5cbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgdmlldyBiZXR3ZWVuIGFjdGlvbiB2aXNpYmxlL2ludmlzaWJsZS5cbiAgICovXG4gIHRvZ2dsZVZpZXcoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaDVwLWFyLXNjYXZlbmdlci1hY3Rpb24tbW9kZScpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdGF0ZSkge1xuICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1hY3Rpb24tbW9kZScpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2g1cC1hci1zY2F2ZW5nZXItYWN0aW9uLW1vZGUnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoIGluc3RhbmNlIHRvIGFjdGlvbi5cbiAgICogQHBhcmFtIHtINVAuQ29udGVudFR5cGV9IGluc3RhbmNlIEluc3RhbmNlLlxuICAgKi9cbiAgYXR0YWNoSW5zdGFuY2UoaW5zdGFuY2VET00pIHtcbiAgICB0aGlzLmNvbnRlbnQucmVtb3ZlQ2hpbGQodGhpcy5hY3Rpb25XcmFwcGVyKTtcbiAgICB0aGlzLmFjdGlvbldyYXBwZXIgPSBpbnN0YW5jZURPTTtcbiAgICB0aGlzLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5hY3Rpb25XcmFwcGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGNvbnRlbnQuXG4gICAqL1xuICBzaG93Q29udGVudCgpIHtcbiAgICB0aGlzLmFjdGlvbldyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgICB0aGlzLm1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIGNvbnRlbnQuXG4gICAqL1xuICBoaWRlQ29udGVudCgpIHtcbiAgICB0aGlzLmFjdGlvbldyYXBwZXIuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgICB0aGlzLm1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-content-action.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-content-camera.js":
/*!********************************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-content-camera.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavengerContentCamera)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\n// Import required classes\n\n/** Class representing the subject */\n\nvar ARScavengerContentCamera = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameter from editor.\n   * @param {object[]} params.markers Markers.\n   * @param {object} [callbacks] Callbacks.\n   * @param {object} [callbacks.onResize] Callbacks.\n   */\n  function ARScavengerContentCamera(params, callbacks) {\n    // Sanitize params\n    this.params = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__.default.extend({\n      fallbackHeight: 400\n    }, params || {}); // Sanitize callbacks\n\n    this.callbacks = callbacks || {};\n\n    this.callbacks.onResize = this.callbacks.onResize || function () {};\n\n    this.callbacks.onMarkerFound = this.callbacks.onMarkerFound || function () {};\n\n    this.callbacks.onMarkerLost = this.callbacks.onMarkerLost || function () {}; // Maximum height for camera\n\n\n    this.maxHeight = null; // Content\n\n    this.content = document.createElement('div');\n    this.content.classList.add('h5p-ar-scavenger-content-camera');\n    this.iframe = this.buildIframe();\n    this.content.appendChild(this.iframe); // Container\n\n    this.container = document.createElement('div');\n    this.container.classList.add('h5p-ar-scavenger-content-camera-container');\n    this.container.appendChild(this.content);\n  }\n  /**\n   * Return the DOM for this class.\n   * @return {HTMLElement} DOM for this class.\n   */\n\n\n  var _proto = ARScavengerContentCamera.prototype;\n\n  _proto.getDOM = function getDOM() {\n    return this.container;\n  }\n  /**\n   * Set maximum height for subject.\n   * @param {number} maxHeight Maximum height for subject.\n   */\n  ;\n\n  _proto.resizeIframeHeight = function resizeIframeHeight(maxHeight) {\n    this.maxHeight = typeof maxHeight === 'number' ? maxHeight : null;\n\n    if (this.maxHeight) {\n      // FullScreen\n      this.container.style.maxHeight = \"\".concat(this.maxHeight, \"px\");\n      var style = this.content.currentStyle || window.getComputedStyle(this.content);\n      var contentMargin = parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n      this.iframe.style.height = \"\".concat(this.maxHeight - contentMargin, \"px\");\n    } else {\n      // Normal view\n      this.container.style.removeProperty('max-height');\n      this.iframe.style.height = \"\".concat(this.params.fallbackHeight, \"px\");\n    }\n\n    this.callbacks.onResize();\n  }\n  /**\n   * Resize.\n   */\n  ;\n\n  _proto.resize = function resize() {\n    this.resizeIframeHeight(this.maxHeight);\n  }\n  /**\n   * Show subject.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.container.classList.remove('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Hide subject.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.container.classList.add('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Set view to narrow mode.\n   * @param {boolean} [narrow = true] True will turn to narrow, else false\n   */\n  ;\n\n  _proto.setNarrowView = function setNarrowView() {\n    var narrow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    if (narrow) {\n      this.container.classList.add('h5p-ar-scavenger-narrow-screen');\n    } else {\n      this.container.classList.remove('h5p-ar-scavenger-narrow-screen');\n    }\n  }\n  /**\n   * Toggle view between action visible/invisible.\n   */\n  ;\n\n  _proto.toggleView = function toggleView() {\n    this.container.classList.toggle('h5p-ar-scavenger-action-mode');\n  }\n  /**\n   * Build iframe.\n   * @param {HTMLElement} iframe.\n   */\n  ;\n\n  _proto.buildIframe = function buildIframe() {\n    var _this = this;\n\n    var iframe = document.createElement('iframe');\n    iframe.classList.add('h5p-ar-scavenger-content-camera-iframe'); // Feature policy forwarding - hopefully set in parent iframe\n\n    iframe.setAttribute('allow', 'camera *;');\n    iframe.addEventListener('load', function () {\n      if (_this.iframeLoaded) {\n        return;\n      } // Will write the iframe contents\n\n\n      _this.handleIframeLoaded(_this.iframe);\n\n      _this.iframeLoaded = true;\n    });\n    return iframe;\n  }\n  /**\n   * Build HTML for iframe.\n   * @return {HTMLElement}\n   */\n  ;\n\n  _proto.buildHTML = function buildHTML() {\n    var html = document.createElement('html');\n    html.appendChild(this.buildHeader());\n    html.appendChild(this.buildBody());\n    return html;\n  }\n  /**\n   * Build Header.\n   * @return {HTMLElement} Header.\n   */\n  ;\n\n  _proto.buildHeader = function buildHeader() {\n    var head = document.createElement('head'); // TODO: There must be a way to build the style dynamically from H5P libraries\n\n    var stylesheet = document.createElement('style');\n    stylesheet.innerHTML = '#arjsDebugUIContainer {display: none;} .a-enter-vr {display: none;}';\n    head.appendChild(stylesheet); // Load AFrame script\n\n    var scriptAFrame = document.createElement('script');\n    scriptAFrame.text = H5P.AFrame.toString();\n    head.appendChild(scriptAFrame); // Load AR.js script\n\n    var scriptAFrameAR = document.createElement('script');\n    scriptAFrameAR.text = H5P.AFrameAR.toString();\n    head.appendChild(scriptAFrameAR); // Start scripts\n\n    var scriptStarter = document.createElement('script');\n    scriptStarter.text = 'H5PAFrame();';\n    scriptStarter.text += 'H5PAFrameAR();';\n    head.appendChild(scriptStarter);\n    return head;\n  }\n  /**\n   * Build body.\n   * @return {HTMLElement} Body.\n   */\n  ;\n\n  _proto.buildBody = function buildBody() {\n    var body = document.createElement('body');\n    body.style.margin = '0';\n    body.style.overflow = 'hidden';\n    body.style.padding = '0';\n    body.appendChild(this.buildScene());\n    return body;\n  }\n  /**\n   * Build Scene.\n   * @return {HTMLElement} Scene.\n   */\n  ;\n\n  _proto.buildScene = function buildScene() {\n    var _this2 = this;\n\n    var scene = document.createElement('a-scene');\n    scene.setAttribute('embedded', '');\n    scene.setAttribute('arjs', '');\n    this.params.markers.forEach(function (marker, index) {\n      var newMarker = document.createElement('a-marker');\n      newMarker.setAttribute('type', 'pattern');\n      newMarker.setAttribute('preset', 'custom');\n      newMarker.setAttribute('id', index);\n      var src = H5P.getPath(marker.markerPattern.path, _this2.params.contentId);\n      newMarker.setAttribute('url', src);\n\n      if (marker.actionType === 'model') {\n        var path = marker.model.file.path;\n        var extension = path.split('.').slice(-1)[0];\n        var id = path.split('/').slice(-1)[0].split('.').slice(0, -1).join('-');\n\n        if (extension === 'gltf' || extension === 'glb') {\n          var assetItem = document.createElement('a-asset-item');\n          assetItem.setAttribute('id', id);\n          assetItem.setAttribute('src', H5P.getPath(path, _this2.params.contentId));\n          var asset = document.createElement('a-asset');\n          asset.appendChild(assetItem);\n          scene.appendChild(asset);\n          var scale = \"\".concat(marker.model.geometry.scale.scale / 100, \" \").concat(marker.model.geometry.scale.scale / 100, \" \").concat(marker.model.geometry.scale.scale / 100);\n          var rotation = \"\".concat(marker.model.geometry.rotation.x, \" \").concat(marker.model.geometry.rotation.y, \" \").concat(marker.model.geometry.rotation.z);\n          var position = \"\".concat(marker.model.geometry.position.x, \" \").concat(marker.model.geometry.position.y, \" \").concat(marker.model.geometry.position.z);\n          var entity = document.createElement('a-entity');\n          entity.setAttribute('gltf-model', '#' + id);\n          entity.setAttribute('scale', scale);\n          entity.setAttribute('rotation', rotation);\n          entity.setAttribute('position', position);\n          newMarker.appendChild(entity);\n        } else {\n          console.warn('model type not handled');\n        }\n      }\n\n      if (newMarker) {\n        scene.appendChild(newMarker);\n      }\n    });\n    var camera = document.createElement('a-entity');\n    camera.setAttribute('camera', '');\n    scene.appendChild(camera);\n    return scene;\n  }\n  /**\n   * Handle iframe complete. Depends on load timing\n   */\n  ;\n\n  _proto.handleIframeComplete = function handleIframeComplete() {\n    var _this3 = this;\n\n    if (this.iframeDocument.readyState !== 'complete') {\n      this.iframeDocument.addEventListener('readystatechange', function () {\n        if (_this3.iframeDocument.readyState === 'complete') {\n          _this3.addEventListeners();\n        }\n      });\n    } else {\n      this.addEventListeners();\n    } // Set iframe height to video stream height\n\n\n    this.waitForVideo(function (video) {\n      _this3.params.fallbackHeight = parseInt(video.style.height);\n\n      _this3.resize();\n    });\n  }\n  /**\n   * Wait for video object to.\n   * @param {function} callback Callback when video found.\n   * @param {number} [timeout=10000] Maximum timeout.\n   */\n  ;\n\n  _proto.waitForVideo = function waitForVideo(callback) {\n    var _this4 = this;\n\n    var timeout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10000;\n\n    if (!callback) {\n      return;\n    }\n\n    if (timeout <= 0) {\n      return;\n    }\n\n    var video = this.iframeDocument.querySelector('#arjs-video');\n\n    if (video && parseInt(video.style.height) > 0) {\n      callback(video);\n    } else {\n      setTimeout(function () {\n        _this4.waitForVideo(callback, timeout - 100);\n      }, 100);\n    }\n  }\n  /**\n   * Add event listeners for markers.\n   */\n  ;\n\n  _proto.addEventListeners = function addEventListeners() {\n    var _this5 = this;\n\n    var markers = Array.from(this.iframeDocument.querySelectorAll('a-marker'));\n    markers.forEach(function (marker) {\n      // Marker found\n      marker.addEventListener('markerFound', function (event) {\n        _this5.callbacks.onMarkerFound(event);\n      }); // Marker lost\n\n      marker.addEventListener('markerLost', function (event) {\n        _this5.callbacks.onMarkerLost(event);\n      });\n    });\n  }\n  /**\n   * Handle iframe loaded.\n   * @param {HTMLElement} iframe Iframe.\n   */\n  ;\n\n  _proto.handleIframeLoaded = function handleIframeLoaded(iframe) {\n    var _this6 = this;\n\n    try {\n      var iframeWindow = iframe.contentWindow;\n      iframeWindow.addEventListener('resize', this.resize); // Write iframe contents\n\n      iframe.contentWindow.document.open();\n      iframe.contentWindow.document.write(this.buildHTML().outerHTML);\n      iframe.contentWindow.document.close();\n      this.iframeDocument = iframe.contentDocument ? iframe.contentDocument : iframeWindow;\n      this.handleIframeComplete();\n      setTimeout(function () {\n        _this6.resize();\n      }, 0);\n    } catch (error) {\n      console.warn(error);\n    }\n  };\n\n  return ARScavengerContentCamera;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLWNvbnRlbnQtY2FtZXJhLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaDVwLWFyLXNjYXZlbmdlci8uL3NyYy9zY3JpcHRzL2g1cC1hci1zY2F2ZW5nZXItY29udGVudC1jYW1lcmEuanM/ZWM1YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnQgcmVxdWlyZWQgY2xhc3Nlc1xuaW1wb3J0IFV0aWwgZnJvbSAnLi9oNXAtYXItc2NhdmVuZ2VyLXV0aWwnO1xuXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBzdWJqZWN0ICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBUlNjYXZlbmdlckNvbnRlbnRDYW1lcmEge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgUGFyYW1ldGVyIGZyb20gZWRpdG9yLlxuICAgKiBAcGFyYW0ge29iamVjdFtdfSBwYXJhbXMubWFya2VycyBNYXJrZXJzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2NhbGxiYWNrc10gQ2FsbGJhY2tzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2NhbGxiYWNrcy5vblJlc2l6ZV0gQ2FsbGJhY2tzLlxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zLCBjYWxsYmFja3MpIHtcbiAgICAvLyBTYW5pdGl6ZSBwYXJhbXNcbiAgICB0aGlzLnBhcmFtcyA9IFV0aWwuZXh0ZW5kKHtcbiAgICAgIGZhbGxiYWNrSGVpZ2h0OiA0MDBcbiAgICB9LCBwYXJhbXMgfHwge30pO1xuXG4gICAgLy8gU2FuaXRpemUgY2FsbGJhY2tzXG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3MgfHwge307XG4gICAgdGhpcy5jYWxsYmFja3Mub25SZXNpemUgPSB0aGlzLmNhbGxiYWNrcy5vblJlc2l6ZSB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMuY2FsbGJhY2tzLm9uTWFya2VyRm91bmQgPSB0aGlzLmNhbGxiYWNrcy5vbk1hcmtlckZvdW5kIHx8ICgoKSA9PiB7fSk7XG4gICAgdGhpcy5jYWxsYmFja3Mub25NYXJrZXJMb3N0ID0gdGhpcy5jYWxsYmFja3Mub25NYXJrZXJMb3N0IHx8ICgoKSA9PiB7fSk7XG5cbiAgICAvLyBNYXhpbXVtIGhlaWdodCBmb3IgY2FtZXJhXG4gICAgdGhpcy5tYXhIZWlnaHQgPSBudWxsO1xuXG4gICAgLy8gQ29udGVudFxuICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY29udGVudC5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLWNvbnRlbnQtY2FtZXJhJyk7XG5cbiAgICB0aGlzLmlmcmFtZSA9IHRoaXMuYnVpbGRJZnJhbWUoKTtcbiAgICB0aGlzLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5pZnJhbWUpO1xuXG4gICAgLy8gQ29udGFpbmVyXG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLWNvbnRlbnQtY2FtZXJhLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBET00gZm9yIHRoaXMgY2xhc3MuXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBET00gZm9yIHRoaXMgY2xhc3MuXG4gICAqL1xuICBnZXRET00oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBtYXhpbXVtIGhlaWdodCBmb3Igc3ViamVjdC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEhlaWdodCBNYXhpbXVtIGhlaWdodCBmb3Igc3ViamVjdC5cbiAgICovXG4gIHJlc2l6ZUlmcmFtZUhlaWdodChtYXhIZWlnaHQpIHtcbiAgICB0aGlzLm1heEhlaWdodCA9ICh0eXBlb2YgbWF4SGVpZ2h0ID09PSAnbnVtYmVyJykgPyBtYXhIZWlnaHQgOiBudWxsO1xuXG4gICAgaWYgKHRoaXMubWF4SGVpZ2h0KSB7XG4gICAgICAvLyBGdWxsU2NyZWVuXG4gICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSBgJHt0aGlzLm1heEhlaWdodH1weGA7XG5cbiAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jb250ZW50LmN1cnJlbnRTdHlsZSB8fCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmNvbnRlbnQpO1xuICAgICAgY29uc3QgY29udGVudE1hcmdpbiA9IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCwgMTApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tLCAxMCk7XG4gICAgICB0aGlzLmlmcmFtZS5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLm1heEhlaWdodCAtIGNvbnRlbnRNYXJnaW59cHhgO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIE5vcm1hbCB2aWV3XG4gICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbWF4LWhlaWdodCcpO1xuICAgICAgdGhpcy5pZnJhbWUuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5wYXJhbXMuZmFsbGJhY2tIZWlnaHR9cHhgO1xuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2tzLm9uUmVzaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzaXplLlxuICAgKi9cbiAgcmVzaXplKCkge1xuICAgIHRoaXMucmVzaXplSWZyYW1lSGVpZ2h0KHRoaXMubWF4SGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHN1YmplY3QuXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSBzdWJqZWN0LlxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLWRpc3BsYXktbm9uZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB2aWV3IHRvIG5hcnJvdyBtb2RlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXJyb3cgPSB0cnVlXSBUcnVlIHdpbGwgdHVybiB0byBuYXJyb3csIGVsc2UgZmFsc2VcbiAgICovXG4gIHNldE5hcnJvd1ZpZXcobmFycm93ID0gdHJ1ZSkge1xuICAgIGlmIChuYXJyb3cpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItbmFycm93LXNjcmVlbicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2g1cC1hci1zY2F2ZW5nZXItbmFycm93LXNjcmVlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgdmlldyBiZXR3ZWVuIGFjdGlvbiB2aXNpYmxlL2ludmlzaWJsZS5cbiAgICovXG4gIHRvZ2dsZVZpZXcoKSB7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaDVwLWFyLXNjYXZlbmdlci1hY3Rpb24tbW9kZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGlmcmFtZS5cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaWZyYW1lLlxuICAgKi9cbiAgYnVpbGRJZnJhbWUoKSB7XG4gICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyYW1lLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItY29udGVudC1jYW1lcmEtaWZyYW1lJyk7XG4gICAgLy8gRmVhdHVyZSBwb2xpY3kgZm9yd2FyZGluZyAtIGhvcGVmdWxseSBzZXQgaW4gcGFyZW50IGlmcmFtZVxuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FsbG93JywgJ2NhbWVyYSAqOycpO1xuXG4gICAgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5pZnJhbWVMb2FkZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBXaWxsIHdyaXRlIHRoZSBpZnJhbWUgY29udGVudHNcbiAgICAgIHRoaXMuaGFuZGxlSWZyYW1lTG9hZGVkKHRoaXMuaWZyYW1lKTtcbiAgICAgIHRoaXMuaWZyYW1lTG9hZGVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpZnJhbWU7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgSFRNTCBmb3IgaWZyYW1lLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGJ1aWxkSFRNTCgpIHtcbiAgICBjb25zdCBodG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbCcpO1xuICAgIGh0bWwuYXBwZW5kQ2hpbGQodGhpcy5idWlsZEhlYWRlcigpKTtcbiAgICBodG1sLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRCb2R5KCkpO1xuXG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgSGVhZGVyLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gSGVhZGVyLlxuICAgKi9cbiAgYnVpbGRIZWFkZXIoKSB7XG4gICAgY29uc3QgaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWQnKTtcblxuICAgIC8vIFRPRE86IFRoZXJlIG11c3QgYmUgYSB3YXkgdG8gYnVpbGQgdGhlIHN0eWxlIGR5bmFtaWNhbGx5IGZyb20gSDVQIGxpYnJhcmllc1xuICAgIGNvbnN0IHN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlc2hlZXQuaW5uZXJIVE1MID0gJyNhcmpzRGVidWdVSUNvbnRhaW5lciB7ZGlzcGxheTogbm9uZTt9IC5hLWVudGVyLXZyIHtkaXNwbGF5OiBub25lO30nO1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVzaGVldCk7XG5cbiAgICAvLyBMb2FkIEFGcmFtZSBzY3JpcHRcbiAgICBjb25zdCBzY3JpcHRBRnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRBRnJhbWUudGV4dCA9IEg1UC5BRnJhbWUudG9TdHJpbmcoKTtcbiAgICBoZWFkLmFwcGVuZENoaWxkKHNjcmlwdEFGcmFtZSk7XG5cbiAgICAvLyBMb2FkIEFSLmpzIHNjcmlwdFxuICAgIGNvbnN0IHNjcmlwdEFGcmFtZUFSID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0QUZyYW1lQVIudGV4dCA9IEg1UC5BRnJhbWVBUi50b1N0cmluZygpO1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0QUZyYW1lQVIpO1xuXG4gICAgLy8gU3RhcnQgc2NyaXB0c1xuICAgIGNvbnN0IHNjcmlwdFN0YXJ0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRTdGFydGVyLnRleHQgID0gJ0g1UEFGcmFtZSgpOyc7XG4gICAgc2NyaXB0U3RhcnRlci50ZXh0ICs9ICdINVBBRnJhbWVBUigpOyc7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChzY3JpcHRTdGFydGVyKTtcblxuICAgIHJldHVybiBoZWFkO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGJvZHkuXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBCb2R5LlxuICAgKi9cbiAgYnVpbGRCb2R5KCkge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgYm9keS5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIGJvZHkuc3R5bGUucGFkZGluZyA9ICcwJztcblxuICAgIGJvZHkuYXBwZW5kQ2hpbGQodGhpcy5idWlsZFNjZW5lKCkpO1xuXG4gICAgcmV0dXJuIGJvZHk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgU2NlbmUuXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBTY2VuZS5cbiAgICovXG4gIGJ1aWxkU2NlbmUoKSB7XG4gICAgY29uc3Qgc2NlbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLXNjZW5lJyk7XG4gICAgc2NlbmUuc2V0QXR0cmlidXRlKCdlbWJlZGRlZCcsICcnKTtcbiAgICBzY2VuZS5zZXRBdHRyaWJ1dGUoJ2FyanMnLCAnJyk7XG5cbiAgICB0aGlzLnBhcmFtcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlciwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IG5ld01hcmtlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtbWFya2VyJyk7XG4gICAgICBuZXdNYXJrZXIuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3BhdHRlcm4nKTtcbiAgICAgIG5ld01hcmtlci5zZXRBdHRyaWJ1dGUoJ3ByZXNldCcsICdjdXN0b20nKTtcbiAgICAgIG5ld01hcmtlci5zZXRBdHRyaWJ1dGUoJ2lkJywgaW5kZXgpO1xuXG4gICAgICBjb25zdCBzcmMgPSBINVAuZ2V0UGF0aChtYXJrZXIubWFya2VyUGF0dGVybi5wYXRoLCB0aGlzLnBhcmFtcy5jb250ZW50SWQpO1xuICAgICAgbmV3TWFya2VyLnNldEF0dHJpYnV0ZSgndXJsJywgc3JjKTtcblxuICAgICAgaWYgKG1hcmtlci5hY3Rpb25UeXBlID09PSAnbW9kZWwnKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBtYXJrZXIubW9kZWwuZmlsZS5wYXRoO1xuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBwYXRoLnNwbGl0KCcuJykuc2xpY2UoLTEpWzBdO1xuICAgICAgICBjb25zdCBpZCA9IHBhdGguc3BsaXQoJy8nKS5zbGljZSgtMSlbMF0uc3BsaXQoJy4nKS5zbGljZSgwLCAtMSkuam9pbignLScpO1xuXG4gICAgICAgIGlmIChleHRlbnNpb24gPT09ICdnbHRmJyB8fCBleHRlbnNpb24gPT09ICdnbGInKSB7XG4gICAgICAgICAgY29uc3QgYXNzZXRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1hc3NldC1pdGVtJyk7XG4gICAgICAgICAgYXNzZXRJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgICAgYXNzZXRJdGVtLnNldEF0dHJpYnV0ZSgnc3JjJywgSDVQLmdldFBhdGgocGF0aCwgdGhpcy5wYXJhbXMuY29udGVudElkKSk7XG5cbiAgICAgICAgICBjb25zdCBhc3NldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtYXNzZXQnKTtcbiAgICAgICAgICBhc3NldC5hcHBlbmRDaGlsZChhc3NldEl0ZW0pO1xuICAgICAgICAgIHNjZW5lLmFwcGVuZENoaWxkKGFzc2V0KTtcblxuICAgICAgICAgIGNvbnN0IHNjYWxlID0gYCR7bWFya2VyLm1vZGVsLmdlb21ldHJ5LnNjYWxlLnNjYWxlIC8gMTAwfSAke21hcmtlci5tb2RlbC5nZW9tZXRyeS5zY2FsZS5zY2FsZSAvIDEwMH0gJHttYXJrZXIubW9kZWwuZ2VvbWV0cnkuc2NhbGUuc2NhbGUgLyAxMDB9YDtcbiAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IGAke21hcmtlci5tb2RlbC5nZW9tZXRyeS5yb3RhdGlvbi54fSAke21hcmtlci5tb2RlbC5nZW9tZXRyeS5yb3RhdGlvbi55fSAke21hcmtlci5tb2RlbC5nZW9tZXRyeS5yb3RhdGlvbi56fWA7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBgJHttYXJrZXIubW9kZWwuZ2VvbWV0cnkucG9zaXRpb24ueH0gJHttYXJrZXIubW9kZWwuZ2VvbWV0cnkucG9zaXRpb24ueX0gJHttYXJrZXIubW9kZWwuZ2VvbWV0cnkucG9zaXRpb24uen1gO1xuXG4gICAgICAgICAgY29uc3QgZW50aXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICAgICAgICBlbnRpdHkuc2V0QXR0cmlidXRlKCdnbHRmLW1vZGVsJywgJyMnICsgaWQpO1xuICAgICAgICAgIGVudGl0eS5zZXRBdHRyaWJ1dGUoJ3NjYWxlJywgc2NhbGUpO1xuICAgICAgICAgIGVudGl0eS5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgcm90YXRpb24pO1xuICAgICAgICAgIGVudGl0eS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgcG9zaXRpb24pO1xuXG4gICAgICAgICAgbmV3TWFya2VyLmFwcGVuZENoaWxkKGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdtb2RlbCB0eXBlIG5vdCBoYW5kbGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5ld01hcmtlcikge1xuICAgICAgICBzY2VuZS5hcHBlbmRDaGlsZChuZXdNYXJrZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2FtZXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICBjYW1lcmEuc2V0QXR0cmlidXRlKCdjYW1lcmEnLCAnJyk7XG4gICAgc2NlbmUuYXBwZW5kQ2hpbGQoY2FtZXJhKTtcblxuICAgIHJldHVybiBzY2VuZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgaWZyYW1lIGNvbXBsZXRlLiBEZXBlbmRzIG9uIGxvYWQgdGltaW5nXG4gICAqL1xuICBoYW5kbGVJZnJhbWVDb21wbGV0ZSgpIHtcbiAgICBpZiAodGhpcy5pZnJhbWVEb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnKSB7XG4gICAgICB0aGlzLmlmcmFtZURvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlmcmFtZURvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgaWZyYW1lIGhlaWdodCB0byB2aWRlbyBzdHJlYW0gaGVpZ2h0XG4gICAgdGhpcy53YWl0Rm9yVmlkZW8oKHZpZGVvKSA9PiB7XG4gICAgICB0aGlzLnBhcmFtcy5mYWxsYmFja0hlaWdodCA9IHBhcnNlSW50KHZpZGVvLnN0eWxlLmhlaWdodCk7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXQgZm9yIHZpZGVvIG9iamVjdCB0by5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgd2hlbiB2aWRlbyBmb3VuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lb3V0PTEwMDAwXSBNYXhpbXVtIHRpbWVvdXQuXG4gICAqL1xuICB3YWl0Rm9yVmlkZW8oY2FsbGJhY2ssIHRpbWVvdXQgPSAxMDAwMCkge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGltZW91dCA8PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdmlkZW8gPSB0aGlzLmlmcmFtZURvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcmpzLXZpZGVvJyk7XG4gICAgaWYgKHZpZGVvICYmIHBhcnNlSW50KHZpZGVvLnN0eWxlLmhlaWdodCkgPiAwKSB7XG4gICAgICBjYWxsYmFjayh2aWRlbyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMud2FpdEZvclZpZGVvKGNhbGxiYWNrLCB0aW1lb3V0IC0gMTAwKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIG1hcmtlcnMuXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBtYXJrZXJzID0gQXJyYXkuZnJvbSh0aGlzLmlmcmFtZURvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EtbWFya2VyJykpO1xuXG4gICAgbWFya2Vycy5mb3JFYWNoKChtYXJrZXIpID0+IHtcbiAgICAgIC8vIE1hcmtlciBmb3VuZFxuICAgICAgbWFya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21hcmtlckZvdW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uTWFya2VyRm91bmQoZXZlbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE1hcmtlciBsb3N0XG4gICAgICBtYXJrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWFya2VyTG9zdCcsIChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbk1hcmtlckxvc3QoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGlmcmFtZSBsb2FkZWQuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGlmcmFtZSBJZnJhbWUuXG4gICAqL1xuICBoYW5kbGVJZnJhbWVMb2FkZWQoaWZyYW1lKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlmcmFtZVdpbmRvdyA9IGlmcmFtZS5jb250ZW50V2luZG93O1xuXG4gICAgICBpZnJhbWVXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuXG4gICAgICAvLyBXcml0ZSBpZnJhbWUgY29udGVudHNcbiAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50Lm9wZW4oKTtcbiAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LndyaXRlKHRoaXMuYnVpbGRIVE1MKCkub3V0ZXJIVE1MKTtcbiAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmNsb3NlKCk7XG5cbiAgICAgIHRoaXMuaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudERvY3VtZW50ID8gaWZyYW1lLmNvbnRlbnREb2N1bWVudDogaWZyYW1lV2luZG93O1xuXG4gICAgICB0aGlzLmhhbmRsZUlmcmFtZUNvbXBsZXRlKCk7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQURBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-content-camera.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-content-titlebar.js":
/*!**********************************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-content-titlebar.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavengerContentTitlebar)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-button */ \"./src/scripts/h5p-ar-scavenger-button.js\");\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\n// Import required classes\n\n\n/** Class representing the content */\n\nvar ARScavengerContentTitlebar = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameter from editor.\n   * @param {boolean} params.canHasFullScreen If true, will have fullscreen button.\n   * @param {boolean} params.buttonQuit If true, will have quit button.\n   * @param {string} params.title Title.\n   * @param {object} params.a11y Accessibility strings.\n   * @param {string} params.a11y.buttonEditActive Text for inactive button.\n   * @param {string} params.a11y.buttonEditInactive Text for inactive button.\n   * @param {object} [callbacks] Callbacks.\n   * @param {function} [callbacks.onbuttonEdit] Handles click.\n   */\n  function ARScavengerContentTitlebar(params, callbacks) {\n    // Set missing params\n    this.params = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__.default.extend({\n      title: '',\n      a11y: {}\n    }, params || {}); // Sanitize callbacks\n\n    this.callbacks = callbacks || {};\n\n    this.callbacks.onClickButtonFullScreen = this.callbacks.onClickButtonFullScreen || function () {};\n\n    this.callbacks.onClickButtonQuit = this.callbacks.onClickButtonQuit || function () {};\n\n    this.callbacks.onClickButtonSwitchView = this.callbacks.onClickButtonSwitchView || function () {};\n\n    this.titleBar = document.createElement('div');\n    this.titleBar.classList.add('h5p-ar-scavenger-title-bar');\n    this.buttons = {}; // Button for switching views\n\n    this.buttons['switchView'] = new _h5p_ar_scavenger_button__WEBPACK_IMPORTED_MODULE_0__.default({\n      a11y: {\n        inactive: this.params.a11y.buttonSwitchViewAction,\n        active: this.params.a11y.buttonSwitchViewCamera,\n        disabled: this.params.a11y.buttonSwitchViewDisabled\n      },\n      classes: ['h5p-ar-scavenger-button', 'h5p-ar-scavenger-button-switch-view'],\n      type: 'toggle'\n    }, {\n      onClick: this.callbacks.onClickButtonSwitchView\n    });\n    this.titleBar.appendChild(this.buttons['switchView'].getDOM()); // Button for quitting\n\n    this.buttons['quit'] = new _h5p_ar_scavenger_button__WEBPACK_IMPORTED_MODULE_0__.default({\n      a11y: {\n        active: this.params.a11y.buttonQuit,\n        disabled: this.params.a11y.buttonQuitDisabled\n      },\n      classes: ['h5p-ar-scavenger-button', 'h5p-ar-scavenger-button-quit'],\n      disabled: true,\n      type: 'pulse'\n    }, {\n      onClick: this.callbacks.onClickButtonQuit\n    });\n    this.titleBar.appendChild(this.buttons['quit'].getDOM()); // Title\n\n    var titleDOM = document.createElement('div');\n    titleDOM.classList.add('h5p-ar-scavenger-title');\n    titleDOM.innerHTML = this.params.title;\n    this.titleBar.appendChild(titleDOM);\n\n    if (this.params.canHasFullScreen) {\n      this.buttons['fullscreen'] = new _h5p_ar_scavenger_button__WEBPACK_IMPORTED_MODULE_0__.default({\n        a11y: {\n          active: this.params.a11y.buttonFullScreenExit,\n          inactive: this.params.a11y.buttonFullScreenEnter\n        },\n        classes: ['h5p-ar-scavenger-button', 'h5p-ar-scavenger-button-fullscreen'],\n        disabled: false,\n        type: 'toggle'\n      }, {\n        onClick: callbacks.onClickButtonFullScreen\n      });\n      this.titleBar.appendChild(this.buttons['fullscreen'].getDOM());\n    }\n  }\n  /**\n   * Return the DOM for this class.\n   * @return {HTMLElement} DOM for this class.\n   */\n\n\n  var _proto = ARScavengerContentTitlebar.prototype;\n\n  _proto.getDOM = function getDOM() {\n    return this.titleBar;\n  }\n  /**\n   * Show button.\n   * @param {string} buttonId Button id.\n   */\n  ;\n\n  _proto.showButton = function showButton(buttonId) {\n    if (!this.buttons[buttonId]) {\n      return;\n    }\n\n    this.buttons[buttonId].show();\n  }\n  /**\n   * Hide button.\n   * @param {string} buttonId Button id.\n   */\n  ;\n\n  _proto.hideButton = function hideButton(buttonId) {\n    if (!this.buttons[buttonId]) {\n      return;\n    }\n\n    this.buttons[buttonId].hide();\n  }\n  /**\n   * Toggle button active state.\n   * @param {string} buttonId Button id.\n   * @param {boolean} state Desired state.\n   */\n  ;\n\n  _proto.toggleButtonActive = function toggleButtonActive(buttonId, state) {\n    if (!this.buttons[buttonId]) {\n      return;\n    } // Toggle current state\n\n\n    if (typeof state !== 'boolean') {\n      state = !this.buttons[buttonId].isActive();\n    }\n\n    if (state === true) {\n      this.buttons[buttonId].activate();\n    } else {\n      this.buttons[buttonId].deactivate();\n    }\n  }\n  /**\n   * Toggle button disabled state.\n   * @param {string} buttonId Button id.\n   * @param {boolean} state Desired state.\n   */\n  ;\n\n  _proto.toggleButtonDisabled = function toggleButtonDisabled(buttonId, state) {\n    if (!this.buttons[buttonId]) {\n      return;\n    }\n\n    if (state === true || !this.buttons[buttonId].isDisabled()) {\n      this.buttons[buttonId].disable();\n    } else {\n      this.buttons[buttonId].enable();\n    }\n  }\n  /**\n   * Determine whether a button is active.\n   * @param {string} buttonId Button id.\n   * @return {boolean|null} Button active state or null if buttonId not found.\n   */\n  ;\n\n  _proto.isButtonActive = function isButtonActive(buttonId) {\n    if (!this.buttons[buttonId]) {\n      return null;\n    } else {\n      return this.buttons[buttonId].isActive();\n    }\n  }\n  /**\n   * Determine whether a button is disabled.\n   * @param {string} buttonId Button id.\n   * @return {boolean|null} Button disabled state or null if buttonId not found.\n   */\n  ;\n\n  _proto.isButtonDisabled = function isButtonDisabled(buttonId) {\n    if (!this.buttons[buttonId]) {\n      return null;\n    } else {\n      return this.buttons[buttonId].isDisabled();\n    }\n  };\n\n  return ARScavengerContentTitlebar;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLWNvbnRlbnQtdGl0bGViYXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oNXAtYXItc2NhdmVuZ2VyLy4vc3JjL3NjcmlwdHMvaDVwLWFyLXNjYXZlbmdlci1jb250ZW50LXRpdGxlYmFyLmpzP2MwYzIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0IHJlcXVpcmVkIGNsYXNzZXNcbmltcG9ydCBBUlNjYXZlbmdlckJ1dHRvbiBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItYnV0dG9uJztcbmltcG9ydCBVdGlsIGZyb20gJy4vaDVwLWFyLXNjYXZlbmdlci11dGlsJztcblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgY29udGVudCAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVJTY2F2ZW5nZXJDb250ZW50VGl0bGViYXIge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgUGFyYW1ldGVyIGZyb20gZWRpdG9yLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtcy5jYW5IYXNGdWxsU2NyZWVuIElmIHRydWUsIHdpbGwgaGF2ZSBmdWxsc2NyZWVuIGJ1dHRvbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMuYnV0dG9uUXVpdCBJZiB0cnVlLCB3aWxsIGhhdmUgcXVpdCBidXR0b24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMudGl0bGUgVGl0bGUuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMuYTExeSBBY2Nlc3NpYmlsaXR5IHN0cmluZ3MuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMuYTExeS5idXR0b25FZGl0QWN0aXZlIFRleHQgZm9yIGluYWN0aXZlIGJ1dHRvbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5hMTF5LmJ1dHRvbkVkaXRJbmFjdGl2ZSBUZXh0IGZvciBpbmFjdGl2ZSBidXR0b24uXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbY2FsbGJhY2tzXSBDYWxsYmFja3MuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja3Mub25idXR0b25FZGl0XSBIYW5kbGVzIGNsaWNrLlxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zLCBjYWxsYmFja3MpIHtcbiAgICAvLyBTZXQgbWlzc2luZyBwYXJhbXNcbiAgICB0aGlzLnBhcmFtcyA9IFV0aWwuZXh0ZW5kKHtcbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIGExMXk6IHtcbiAgICAgIH1cbiAgICB9LCBwYXJhbXMgfHwge30pO1xuXG4gICAgLy8gU2FuaXRpemUgY2FsbGJhY2tzXG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3MgfHwge307XG4gICAgdGhpcy5jYWxsYmFja3Mub25DbGlja0J1dHRvbkZ1bGxTY3JlZW4gPSB0aGlzLmNhbGxiYWNrcy5vbkNsaWNrQnV0dG9uRnVsbFNjcmVlbiB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMuY2FsbGJhY2tzLm9uQ2xpY2tCdXR0b25RdWl0ID0gdGhpcy5jYWxsYmFja3Mub25DbGlja0J1dHRvblF1aXQgfHwgKCgpID0+IHt9KTtcbiAgICB0aGlzLmNhbGxiYWNrcy5vbkNsaWNrQnV0dG9uU3dpdGNoVmlldyA9IHRoaXMuY2FsbGJhY2tzLm9uQ2xpY2tCdXR0b25Td2l0Y2hWaWV3IHx8ICgoKSA9PiB7fSk7XG5cbiAgICB0aGlzLnRpdGxlQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy50aXRsZUJhci5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLXRpdGxlLWJhcicpO1xuXG4gICAgdGhpcy5idXR0b25zID0ge307XG5cbiAgICAvLyBCdXR0b24gZm9yIHN3aXRjaGluZyB2aWV3c1xuICAgIHRoaXMuYnV0dG9uc1snc3dpdGNoVmlldyddID0gbmV3IEFSU2NhdmVuZ2VyQnV0dG9uKFxuICAgICAge1xuICAgICAgICBhMTF5OiB7XG4gICAgICAgICAgaW5hY3RpdmU6IHRoaXMucGFyYW1zLmExMXkuYnV0dG9uU3dpdGNoVmlld0FjdGlvbixcbiAgICAgICAgICBhY3RpdmU6IHRoaXMucGFyYW1zLmExMXkuYnV0dG9uU3dpdGNoVmlld0NhbWVyYSxcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5wYXJhbXMuYTExeS5idXR0b25Td2l0Y2hWaWV3RGlzYWJsZWQsXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzZXM6IFtcbiAgICAgICAgICAnaDVwLWFyLXNjYXZlbmdlci1idXR0b24nLFxuICAgICAgICAgICdoNXAtYXItc2NhdmVuZ2VyLWJ1dHRvbi1zd2l0Y2gtdmlldydcbiAgICAgICAgXSxcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuY2FsbGJhY2tzLm9uQ2xpY2tCdXR0b25Td2l0Y2hWaWV3XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLnRpdGxlQmFyLmFwcGVuZENoaWxkKHRoaXMuYnV0dG9uc1snc3dpdGNoVmlldyddLmdldERPTSgpKTtcblxuICAgIC8vIEJ1dHRvbiBmb3IgcXVpdHRpbmdcbiAgICB0aGlzLmJ1dHRvbnNbJ3F1aXQnXSA9IG5ldyBBUlNjYXZlbmdlckJ1dHRvbihcbiAgICAgIHtcbiAgICAgICAgYTExeToge1xuICAgICAgICAgIGFjdGl2ZTogdGhpcy5wYXJhbXMuYTExeS5idXR0b25RdWl0LFxuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnBhcmFtcy5hMTF5LmJ1dHRvblF1aXREaXNhYmxlZCxcbiAgICAgICAgfSxcbiAgICAgICAgY2xhc3NlczogW1xuICAgICAgICAgICdoNXAtYXItc2NhdmVuZ2VyLWJ1dHRvbicsXG4gICAgICAgICAgJ2g1cC1hci1zY2F2ZW5nZXItYnV0dG9uLXF1aXQnXG4gICAgICAgIF0sXG4gICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICB0eXBlOiAncHVsc2UnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvbkNsaWNrOiB0aGlzLmNhbGxiYWNrcy5vbkNsaWNrQnV0dG9uUXVpdFxuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy50aXRsZUJhci5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbnNbJ3F1aXQnXS5nZXRET00oKSk7XG5cbiAgICAvLyBUaXRsZVxuICAgIGNvbnN0IHRpdGxlRE9NID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGl0bGVET00uY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci10aXRsZScpO1xuICAgIHRpdGxlRE9NLmlubmVySFRNTCA9IHRoaXMucGFyYW1zLnRpdGxlO1xuXG4gICAgdGhpcy50aXRsZUJhci5hcHBlbmRDaGlsZCh0aXRsZURPTSk7XG5cbiAgICBpZiAodGhpcy5wYXJhbXMuY2FuSGFzRnVsbFNjcmVlbikge1xuICAgICAgdGhpcy5idXR0b25zWydmdWxsc2NyZWVuJ10gPSBuZXcgQVJTY2F2ZW5nZXJCdXR0b24oXG4gICAgICAgIHtcbiAgICAgICAgICBhMTF5OiB7XG4gICAgICAgICAgICBhY3RpdmU6IHRoaXMucGFyYW1zLmExMXkuYnV0dG9uRnVsbFNjcmVlbkV4aXQsXG4gICAgICAgICAgICBpbmFjdGl2ZTogdGhpcy5wYXJhbXMuYTExeS5idXR0b25GdWxsU2NyZWVuRW50ZXJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzZXM6IFtcbiAgICAgICAgICAgICdoNXAtYXItc2NhdmVuZ2VyLWJ1dHRvbicsXG4gICAgICAgICAgICAnaDVwLWFyLXNjYXZlbmdlci1idXR0b24tZnVsbHNjcmVlbidcbiAgICAgICAgICBdLFxuICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgICB0eXBlOiAndG9nZ2xlJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb25DbGljazogY2FsbGJhY2tzLm9uQ2xpY2tCdXR0b25GdWxsU2NyZWVuXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB0aGlzLnRpdGxlQmFyLmFwcGVuZENoaWxkKHRoaXMuYnV0dG9uc1snZnVsbHNjcmVlbiddLmdldERPTSgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBET00gZm9yIHRoaXMgY2xhc3MuXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBET00gZm9yIHRoaXMgY2xhc3MuXG4gICAqL1xuICBnZXRET00oKSB7XG4gICAgcmV0dXJuIHRoaXMudGl0bGVCYXI7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBidXR0b24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBidXR0b25JZCBCdXR0b24gaWQuXG4gICAqL1xuICBzaG93QnV0dG9uKGJ1dHRvbklkKSB7XG4gICAgaWYgKCF0aGlzLmJ1dHRvbnNbYnV0dG9uSWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5idXR0b25zW2J1dHRvbklkXS5zaG93KCk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSBidXR0b24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBidXR0b25JZCBCdXR0b24gaWQuXG4gICAqL1xuICBoaWRlQnV0dG9uKGJ1dHRvbklkKSB7XG4gICAgaWYgKCF0aGlzLmJ1dHRvbnNbYnV0dG9uSWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5idXR0b25zW2J1dHRvbklkXS5oaWRlKCk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGJ1dHRvbiBhY3RpdmUgc3RhdGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBidXR0b25JZCBCdXR0b24gaWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgRGVzaXJlZCBzdGF0ZS5cbiAgICovXG4gIHRvZ2dsZUJ1dHRvbkFjdGl2ZShidXR0b25JZCwgc3RhdGUpIHtcbiAgICBpZiAoIXRoaXMuYnV0dG9uc1tidXR0b25JZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUb2dnbGUgY3VycmVudCBzdGF0ZVxuICAgIGlmICh0eXBlb2Ygc3RhdGUgIT09ICdib29sZWFuJykge1xuICAgICAgc3RhdGUgPSAhdGhpcy5idXR0b25zW2J1dHRvbklkXS5pc0FjdGl2ZSgpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5idXR0b25zW2J1dHRvbklkXS5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuYnV0dG9uc1tidXR0b25JZF0uZGVhY3RpdmF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgYnV0dG9uIGRpc2FibGVkIHN0YXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uSWQgQnV0dG9uIGlkLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIERlc2lyZWQgc3RhdGUuXG4gICAqL1xuICB0b2dnbGVCdXR0b25EaXNhYmxlZChidXR0b25JZCwgc3RhdGUpIHtcbiAgICBpZiAoIXRoaXMuYnV0dG9uc1tidXR0b25JZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgPT09IHRydWUgfHwgIXRoaXMuYnV0dG9uc1tidXR0b25JZF0uaXNEaXNhYmxlZCgpKSB7XG4gICAgICB0aGlzLmJ1dHRvbnNbYnV0dG9uSWRdLmRpc2FibGUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmJ1dHRvbnNbYnV0dG9uSWRdLmVuYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBhIGJ1dHRvbiBpcyBhY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBidXR0b25JZCBCdXR0b24gaWQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW58bnVsbH0gQnV0dG9uIGFjdGl2ZSBzdGF0ZSBvciBudWxsIGlmIGJ1dHRvbklkIG5vdCBmb3VuZC5cbiAgICovXG4gIGlzQnV0dG9uQWN0aXZlKGJ1dHRvbklkKSB7XG4gICAgaWYgKCF0aGlzLmJ1dHRvbnNbYnV0dG9uSWRdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5idXR0b25zW2J1dHRvbklkXS5pc0FjdGl2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgd2hldGhlciBhIGJ1dHRvbiBpcyBkaXNhYmxlZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvbklkIEJ1dHRvbiBpZC5cbiAgICogQHJldHVybiB7Ym9vbGVhbnxudWxsfSBCdXR0b24gZGlzYWJsZWQgc3RhdGUgb3IgbnVsbCBpZiBidXR0b25JZCBub3QgZm91bmQuXG4gICAqL1xuICBpc0J1dHRvbkRpc2FibGVkKGJ1dHRvbklkKSB7XG4gICAgaWYgKCF0aGlzLmJ1dHRvbnNbYnV0dG9uSWRdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5idXR0b25zW2J1dHRvbklkXS5pc0Rpc2FibGVkKCk7XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUlBO0FBVkE7QUFhQTtBQURBO0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUlBO0FBQ0E7QUFWQTtBQWFBO0FBREE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBSUE7QUFDQTtBQVZBO0FBYUE7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-content-titlebar.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-content.js":
/*!*************************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-content.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavengerContent)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_content_titlebar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-content-titlebar */ \"./src/scripts/h5p-ar-scavenger-content-titlebar.js\");\n/* harmony import */ var _h5p_ar_scavenger_content_camera__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./h5p-ar-scavenger-content-camera */ \"./src/scripts/h5p-ar-scavenger-content-camera.js\");\n/* harmony import */ var _h5p_ar_scavenger_content_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./h5p-ar-scavenger-content-action */ \"./src/scripts/h5p-ar-scavenger-content-action.js\");\n/* harmony import */ var _h5p_ar_scavenger_screen_end__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./h5p-ar-scavenger-screen-end */ \"./src/scripts/h5p-ar-scavenger-screen-end.js\");\n/* harmony import */ var _h5p_ar_scavenger_screen_title__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./h5p-ar-scavenger-screen-title */ \"./src/scripts/h5p-ar-scavenger-screen-title.js\");\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\n// Import required classes\n\n\n\n\n\n\n/** Class representing the content */\n\nvar ARScavengerContent = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameters.\n   * @param {number} contentId Content ID.\n   * @param {object} [extras] Extras incl. previous state.\n   * @param {object} [callbacks] Callbacks.\n   */\n  function ARScavengerContent(params, contentId, extras, callbacks) {\n    var _this = this;\n\n    this.params = params;\n    this.contentId = contentId;\n    this.extras = extras || {};\n    this.extras.previousState = this.extras.previousState || []; // Sanitize callbacks\n\n    this.callbacks = callbacks || {};\n\n    this.callbacks.onFullScreen = this.callbacks.onFullScreen || function () {};\n\n    this.callbacks.onQuit = this.callbacks.onQuit || function () {\n      return null;\n    };\n\n    this.callbacks.onRead = this.callbacks.onRead || function () {};\n\n    this.callbacks.onResize = this.callbacks.onResize || function () {};\n\n    this.isCameraMode = true; // Initialize instances\n\n    this.instancesInitialized = 0;\n    this.instances = [];\n    this.instanceDOMs = [];\n    this.instancesH5P = 0;\n    this.tasksH5P = 0;\n    this.markersFound = new Array(this.params.markers.length); // Screen content (container)\n\n    this.container = document.createElement('div');\n    this.container.classList.add('h5p-ar-scavenger-screen-content'); // Screen: Title\n\n    if (this.params.titleScreen.showTitleScreen) {\n      this.screenTitle = this.buildTitleScreen();\n      this.container.appendChild(this.screenTitle.getDOM());\n    } // Screen: Content\n\n\n    this.screenContent = document.createElement('div');\n    this.screenContent.classList.add('h5p-ar-scavenger-content-container');\n\n    if (this.params.titleScreen.showTitleScreen) {\n      this.hide();\n    }\n\n    this.container.appendChild(this.screenContent);\n    this.messages = document.createElement('div');\n    this.messages.classList.add('h5p-ar-scavenger-content-message');\n    this.messages.innerText = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_5__.default.htmlDecode(this.params.l10n.initializingContent);\n    this.screenContent.appendChild(this.messages);\n    var errorMessages = []; // No markers set?\n\n    if (params.markers.length === 0) {\n      errorMessages.push(this.params.l10n.errorNoMarkers);\n    } // IE11\n\n\n    if (window.navigator.userAgent.indexOf('Trident/') !== -1) {\n      errorMessages.push(this.params.l10n.errorBrowserNotSupported);\n    } // Brave\n\n\n    if (window.Brave) {\n      errorMessages.push(this.params.l10n.warningBrave);\n    } // Check camera access.\n\n\n    if (!window.navigator.mediaDevices || !window.navigator.mediaDevices.getUserMedia) {\n      errorMessages.push(this.params.l10n.errorNoCameraSupport);\n    }\n\n    if (errorMessages.length !== 0) {\n      this.handleInitializationFailed(errorMessages);\n      return;\n    } // Camera access\n\n\n    window.navigator.mediaDevices.getUserMedia({\n      video: {\n        width: 4096,\n        height: 2160\n      }\n    }).then(function (stream) {\n      // Free stream, otherwise some devices fail as camera seems to be in use\n      stream.getTracks().forEach(function (track) {\n        track.stop();\n      });\n\n      _this.handleInitializationSucceeded();\n    })[\"catch\"](function (error) {\n      var message = \"\".concat(_this.params.l10n.errorNoCameraAccess, \" \").concat(error.message);\n      console.warn(message);\n\n      _this.handleInitializationFailed([message]);\n    });\n  }\n  /**\n   * Handle failing of initialization.\n   * @param {string[]} errorMessages Error messages to display.\n   */\n\n\n  var _proto = ARScavengerContent.prototype;\n\n  _proto.handleInitializationFailed = function handleInitializationFailed() {\n    var _this2 = this;\n\n    var errorMessages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    this.messages.innerHTML = '';\n    this.messages.classList.add('h5p-ar-scavenger-content-message-error');\n    errorMessages.forEach(function (message) {\n      var entry = document.createElement('p');\n      entry.innerText = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_5__.default.htmlDecode(message);\n\n      _this2.messages.appendChild(entry);\n    });\n  }\n  /**\n   * Handle initialization if camera is accessible.\n   */\n  ;\n\n  _proto.handleInitializationSucceeded = function handleInitializationSucceeded() {\n    var _this3 = this;\n\n    this.screenContent.removeChild(this.messages); // Titlebar\n\n    this.titlebar = this.buildTitleBar();\n\n    if (!this.params.endScreen.showEndScreen) {\n      this.titlebar.hideButton('quit');\n    }\n\n    this.screenContent.appendChild(this.titlebar.getDOM()); // Subject\n\n    this.camera = this.buildCamera({\n      contentId: this.contentId,\n      markers: this.params.markers,\n      fallbackHeight: this.params.behaviour.fallbackHeight\n    }, {\n      onResize: function onResize() {\n        _this3.resize({\n          fromSubject: true\n        });\n      },\n      onMarkerFound: function onMarkerFound(event) {\n        _this3.handleMarkerFound(event);\n      },\n      onMarkerLost: function onMarkerLost(event) {\n        _this3.handleMarkerLost(event);\n      }\n    }, this.isCameraMode); // Action\n\n    this.action = this.buildAction({\n      l10n: {\n        nothingToSee: this.params.l10n.nothingToSee\n      }\n    }, {}); // Panel\n\n    var panel = document.createElement('div');\n    panel.classList.add('h5p-ar-scavenger-panel');\n    panel.appendChild(this.camera.getDOM());\n    panel.appendChild(this.action.getDOM());\n    this.screenContent.appendChild(panel); // Screen: End\n\n    if (this.params.endScreen.showEndScreen) {\n      this.screenEnd = this.buildEndScreen();\n      this.container.appendChild(this.screenEnd.getDOM());\n    }\n\n    this.instantiateMarkers(); // Will be displayed when necessary\n\n    this.titlebar.hideButton('quit'); // No view switcher required\n\n    if (this.instancesH5P === 0) {\n      this.titlebar.hideButton('switchView');\n    }\n  }\n  /**\n   * Handle marker found.\n   */\n  ;\n\n  _proto.handleMarkerFound = function handleMarkerFound(event) {\n    if (!this.isCameraMode && this.isNarrowScreen) {\n      return; // Not using camera\n    }\n\n    var markerId = parseInt(event.target.id);\n    var marker = this.params.markers[markerId];\n\n    if (marker.actionType === 'h5p') {\n      this.instantiateContent(markerId);\n      this.currentInstanceId = markerId;\n      this.action.attachInstance(this.instanceDOMs[markerId], markerId);\n      this.action.showContent();\n      this.action.show();\n      this.titlebar.toggleButtonActive('switchView', true);\n\n      if (this.isCameraMode) {\n        this.toggleView();\n      }\n    }\n  }\n  /**\n   * Instantiate H5P content.\n   * @param {number} id Id of instance dummy to be instantiated.\n   */\n  ;\n\n  _proto.instantiateContent = function instantiateContent(id) {\n    var _this4 = this;\n\n    if (!this.instances[id].uninstantiated) {\n      return; // Already instantiated\n    }\n\n    var params = this.instances[id].uninstantiated;\n    var index = params.index;\n    var machineName = params.machineName;\n    this.instances[id] = H5P.newRunnable(params.interaction, params.contentId, H5P.jQuery(params.actionWrapper), true, {\n      previousState: params.previousState\n    });\n    this.instances[id].on('resize', function () {\n      _this4.resize({\n        fromAction: true\n      });\n    });\n\n    if (this.isTask(this.instances[id], machineName)) {\n      this.tasksH5P++; // Listen for instance completion\n\n      this.instances[id].on('xAPI', function (event) {\n        if (event.getVerb() !== 'answered' && event.getVerb() !== 'completed') {\n          return; // not relevant\n        } // Run this after the current event has been sent\n\n\n        setTimeout(function () {\n          _this4.handleMarkerGotCompleted(index);\n        }, 0);\n      });\n    }\n  }\n  /**\n   * Instantiate all markers.\n   */\n  ;\n\n  _proto.instantiateMarkers = function instantiateMarkers() {\n    var _this5 = this;\n\n    this.params.markers.forEach(function (marker, index) {\n      // Sanitization\n      _this5.markersFound[index] = _this5.markersFound[index] || {\n        actionType: marker.actionType,\n        completed: false\n      };\n\n      if (marker.actionType !== 'h5p') {\n        _this5.instances.push(null);\n\n        _this5.instanceDOMs.push(null);\n\n        return;\n      }\n\n      var interaction = marker.interaction.interaction;\n      var actionMachineName; // Create new instance replacing action wrapper DOM\n\n      if (interaction.library) {\n        actionMachineName = interaction.library.split(' ')[0];\n      } // Create instance\n\n\n      if (actionMachineName !== undefined && _this5.contentId) {\n        var actionWrapper = document.createElement('div');\n        actionWrapper.classList.add('h5p-ar-scavenger-content-action-library-wrapper');\n        var previousState = _this5.extras.previousState[index] !== null ? _this5.extras.previousState[index] : undefined; // Will be instantiated once a marker is found\n\n        var instanceDummy = {\n          uninstantiated: {\n            interaction: interaction,\n            contentId: _this5.contentId,\n            actionWrapper: actionWrapper,\n            previousState: previousState,\n            index: index,\n            machineName: actionMachineName\n          },\n          on: function on() {},\n          trigger: function trigger() {}\n        };\n        _this5.instancesH5P++;\n\n        _this5.instances.push(instanceDummy);\n\n        _this5.instanceDOMs.push(actionWrapper);\n      } else {\n        _this5.instances.push(null);\n\n        _this5.instanceDOMs.push(null);\n      }\n    });\n  }\n  /**\n   * Handle marker got completed.\n   * @param {number} id Marker's id.\n   */\n  ;\n\n  _proto.handleMarkerGotCompleted = function handleMarkerGotCompleted(id) {\n    this.markersFound[id].completed = true;\n    var markersCompleted = this.markersFound.reduce(function (sum, marker) {\n      return sum + (marker && marker.completed ? 1 : 0);\n    }, 0); // All tasks completed\n\n    if (markersCompleted === this.tasksH5P) {\n      this.handleCompleted();\n    }\n  }\n  /**\n   * Handle marker lost.\n   */\n  ;\n\n  _proto.handleMarkerLost = function handleMarkerLost(event) {\n    return event; // Dummy\n  }\n  /**\n   * Check whether an H5P instance is a task.\n   * @param {H5P.ContentType} instance H5P instance.\n   * @param {string} machineName H5P MachineName.\n   */\n  ;\n\n  _proto.isTask = function isTask(instance, machineName) {\n    // Course Presentations loads subcontent dynamically, can't trust getMaxScore\n    if (machineName === 'H5P.CoursePresentation') {\n      return instance.isTask;\n    }\n\n    return instance.getMaxScore && instance.getMaxScore() > 0;\n  }\n  /**\n   * Return the DOM for this class.\n   * @return {HTMLElement} DOM for this class.\n   */\n  ;\n\n  _proto.getDOM = function getDOM() {\n    return this.container;\n  }\n  /**\n   * Create titlebar.\n   * @return {ARScavengerContentTitlebar} Titlebar.\n   */\n  ;\n\n  _proto.buildTitleBar = function buildTitleBar() {\n    var _this6 = this;\n\n    return new _h5p_ar_scavenger_content_titlebar__WEBPACK_IMPORTED_MODULE_0__.default({\n      title: this.extras.metadata.title,\n      a11y: {\n        buttonFullScreenEnter: this.params.a11y.buttonFullScreenEnter,\n        buttonFullScreenExit: this.params.a11y.buttonFullScreenExit,\n        buttonSwitchViewAction: this.params.a11y.buttonSwitchViewAction,\n        buttonSwitchViewCamera: this.params.a11y.buttonSwitchViewCamera,\n        buttonSwitchViewDisabled: this.params.a11y.buttonSwitchViewDisabled,\n        buttonQuit: this.params.a11y.buttonQuit,\n        buttonQuitDisabled: this.params.a11y.buttonQuitDisabled\n      },\n      canHasFullScreen: this.params.canHasFullScreen\n    }, {\n      onClickButtonFullScreen: function onClickButtonFullScreen(event) {\n        return _this6.callbacks.onFullScreen(event);\n      },\n      onClickButtonQuit: function onClickButtonQuit(event) {\n        return _this6.handleQuit(event);\n      },\n      onClickButtonSwitchView: function onClickButtonSwitchView(event) {\n        return _this6.handleSwitchView(event);\n      }\n    });\n  }\n  /**\n   * Build title screen\n   */\n  ;\n\n  _proto.buildTitleScreen = function buildTitleScreen() {\n    var _this7 = this;\n\n    var params = this.params.titleScreen;\n    params.l10n = {\n      'start': this.params.l10n.start\n    };\n    return new _h5p_ar_scavenger_screen_title__WEBPACK_IMPORTED_MODULE_4__.default(params, {\n      onClose: function onClose() {\n        _this7.handleTitleScreenClosed();\n      }\n    }, this.contentId);\n  }\n  /**\n   * Build title screen\n   */\n  ;\n\n  _proto.buildEndScreen = function buildEndScreen() {\n    var _this8 = this;\n\n    var params = this.params.endScreen;\n    params.l10n = {\n      'retry': this.params.l10n.retry\n    };\n    return new _h5p_ar_scavenger_screen_end__WEBPACK_IMPORTED_MODULE_3__.default(params, {\n      onRetry: function onRetry() {\n        _this8.handleRetry();\n      }\n    }, this.contentId);\n  }\n  /**\n   * Show content.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.screenContent.classList.remove('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Hide content.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.screenContent.classList.add('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Handle title screen closed.\n   */\n  ;\n\n  _proto.handleTitleScreenClosed = function handleTitleScreenClosed() {\n    var _this9 = this;\n\n    this.screenTitle.hide();\n    this.show();\n    setTimeout(function () {\n      _this9.callbacks.onResize();\n    }, 0);\n  }\n  /**\n   * Handle completed.\n   */\n  ;\n\n  _proto.handleCompleted = function handleCompleted() {\n    this.titlebar.showButton('quit');\n    this.titlebar.toggleButtonDisabled('quit', false);\n  }\n  /**\n   * Handle quit.\n   */\n  ;\n\n  _proto.handleQuit = function handleQuit() {\n    var _this10 = this;\n\n    if (this.params.endScreen.showEndScreen) {\n      var score = this.getScore();\n      var maxScore = this.getMaxScore();\n      var scoreText = H5P.Question.determineOverallFeedback(this.params.endScreen.overallFeedback, score / maxScore).replace('@score', score).replace('@total', maxScore);\n      this.screenEnd.setScoreText(scoreText);\n      this.screenEnd.setMaxScore(this.getMaxScore());\n      this.hide();\n      this.screenEnd.show();\n      setTimeout(function () {\n        // Put this here to allow animation to be visible\n        _this10.screenEnd.setScore(_this10.getScore());\n\n        _this10.callbacks.onResize();\n      }, 0);\n    }\n\n    this.callbacks.onQuit();\n  }\n  /**\n   * Handle retry.\n   */\n  ;\n\n  _proto.handleRetry = function handleRetry() {\n    var _this11 = this;\n\n    // Reset all interactions\n    this.reset();\n    this.screenEnd.hide();\n\n    if (this.params.titleScreen.showTitleScreen) {\n      this.screenTitle.show();\n    } else {\n      this.show();\n    }\n\n    setTimeout(function () {\n      _this11.callbacks.onResize();\n    }, 0);\n  }\n  /**\n   * Create subject DOM.\n   * @param {object} params Parameters for Subject.\n   * @param {object} callbacks Callbacks.\n   * @param {boolean} isCameraMode Switch for action mode.\n   */\n  ;\n\n  _proto.buildCamera = function buildCamera() {\n    var _this12 = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callbacks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var isCameraMode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var camera = new _h5p_ar_scavenger_content_camera__WEBPACK_IMPORTED_MODULE_1__.default({\n      contentId: params.contentId,\n      fallbackHeight: params.fallbackHeight,\n      markers: params.markers.map(function (marker) {\n        return {\n          actionType: marker.actionType,\n          markerPattern: marker.markerPattern,\n          model: marker.model\n        };\n      })\n    }, callbacks);\n    var subjectContainer = camera.getDOM();\n\n    if (!isCameraMode) {\n      subjectContainer.classList.add('h5p-ar-scavenger-action-mode');\n    } // If action is opened and display is too narrow, undisplay subject\n\n\n    subjectContainer.addEventListener('transitionend', function () {\n      if (!isCameraMode) {\n        if (subjectContainer.offsetWidth === 0) {\n          subjectContainer.classList.add('h5p-ar-scavenger-display-none');\n        }\n      }\n\n      setTimeout(function () {\n        if (_this12.instances[_this12.currentInstanceId]) {\n          _this12.instances[_this12.currentInstanceId].trigger('resize');\n        }\n\n        _this12.resize();\n      }, 100);\n    });\n    return camera;\n  }\n  /**\n   * Create the action DOM.\n   * @param {object} params Paremeters for Subject.\n   */\n  ;\n\n  _proto.buildAction = function buildAction() {\n    var _this13 = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callbacks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var action = new _h5p_ar_scavenger_content_action__WEBPACK_IMPORTED_MODULE_2__.default(params, callbacks);\n    action.hide(); // Hide wrapper after it has been moved out of sight to prevent receiving tab focus\n\n    action.getDOM().addEventListener('transitionend', function () {\n      if (_this13.isCameraMode) {\n        action.hide();\n      }\n\n      setTimeout(function () {\n        if (_this13.instances[_this13.currentInstanceId]) {\n          _this13.instances[_this13.currentInstanceId].trigger('resize');\n        }\n\n        _this13.resize();\n      }, 0);\n    });\n    return action;\n  }\n  /**\n   * Resize content.\n   */\n  ;\n\n  _proto.resize = function resize(params) {\n    var _this14 = this;\n\n    if (!this.camera) {\n      // Possibly no markers or not initialized correctly\n      this.callbacks.onResize();\n      return;\n    } // Not done using media query because display needs to be not-none first\n\n\n    if (this.container.offsetWidth < this.params.minWidthForDualView) {\n      // Only want to trigger toggleMedium once when mode actually changes\n      if (!this.isNarrowScreen) {\n        this.isNarrowScreen = true; // Triggers a transition, display set to none afterwards by listener\n\n        this.camera.setNarrowView(true);\n      }\n    } else {\n      this.camera.show();\n      setTimeout(function () {\n        _this14.camera.setNarrowView(false);\n      }, 0);\n\n      if (this.isNarrowScreen) {\n        this.isNarrowScreen = false;\n      }\n    }\n\n    if (!params || params.fromSubject !== true) {\n      this.camera.resize();\n    }\n\n    this.callbacks.onResize();\n  }\n  /**\n   * Set dimensions to fullscreen.\n   * @param {boolean} enterFullScreen If true, enter fullscreen, else exit.\n   */\n  ;\n\n  _proto.setFullScreen = function setFullScreen() {\n    var _this15 = this;\n\n    var enterFullScreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (enterFullScreen === true) {\n      // Give browser some time to go to fullscreen mode and return proper viewport height\n      setTimeout(function () {\n        var maxHeight = window.innerHeight - _this15.titlebar.getDOM().offsetHeight;\n\n        _this15.camera.resizeIframeHeight(maxHeight);\n\n        _this15.action.resizeIframeHeight(maxHeight);\n      }, 100);\n    } else {\n      // Give browser some time to exit from fullscreen mode\n      setTimeout(function () {\n        _this15.camera.resizeIframeHeight(null);\n\n        _this15.action.resizeIframeHeight(null);\n      }, 100); // FullScreen button cannot know about exiting full screen with escape key\n\n      this.titlebar.toggleButtonActive('fullscreen', false);\n    }\n  }\n  /**\n   * Handle activation of overlay button.\n   * @param {object} event Event that is calling.\n   */\n  ;\n\n  _proto.handleSwitchView = function handleSwitchView(event) {\n    if (event && event.type === 'keypress' && event.keyCode !== 13 && event.keyCode !== 32) {\n      return;\n    }\n\n    var active = !this.titlebar.isButtonActive('switchView');\n    var message = active ? this.params.a11y.actionOpened : this.params.a11y.actionClosed;\n    this.callbacks.onRead(message);\n    this.toggleView();\n  }\n  /**\n   * Toggle between subject and action.\n   */\n  ;\n\n  _proto.toggleView = function toggleView() {\n    var _this16 = this;\n\n    // Show hidden containers to allow transition\n    this.camera.show();\n    this.action.show(); // Give DOM time to set display property\n\n    setTimeout(function () {\n      _this16.camera.toggleView();\n\n      _this16.action.toggleView();\n\n      _this16.isCameraMode = !_this16.isCameraMode;\n\n      _this16.resize();\n    }, 0);\n  }\n  /**\n   * Check if result has been submitted or input has been given.\n   * @return {boolean} True, if answer was given.\n   */\n  ;\n\n  _proto.getAnswerGiven = function getAnswerGiven() {\n    return this.instances.some(function (instance) {\n      return instance && typeof instance.getAnswerGiven === 'function' && instance.getAnswerGiven();\n    });\n  }\n  /**\n   * Get latest score.\n   * @return {number} latest score.\n   */\n  ;\n\n  _proto.getScore = function getScore() {\n    return this.instances.reduce(function (score, instance) {\n      return score + (instance && typeof instance.getScore === 'function' ? instance.getScore() : 0);\n    }, 0);\n  }\n  /**\n   * Get maximum possible score\n   * @return {number} Score necessary for mastering.\n   */\n  ;\n\n  _proto.getMaxScore = function getMaxScore() {\n    return this.instances.reduce(function (maxScore, instance) {\n      return maxScore + (instance && typeof instance.getMaxScore === 'function' ? instance.getMaxScore() : 0);\n    }, 0);\n  }\n  /**\n   * Show solutions.\n   */\n  ;\n\n  _proto.showSolutions = function showSolutions() {\n    this.instances.forEach(function (instance) {\n      if (instance && typeof instance.showSolutions === 'function') {\n        instance.showSolutions();\n      }\n    });\n  }\n  /**\n   * Reset task.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    for (var i = 0; i < this.markersFound.length; i++) {\n      if (this.markersFound[i]) {\n        this.markersFound[i].completed = false;\n      }\n    }\n\n    this.titlebar.toggleButtonActive('switchView', false);\n    this.titlebar.toggleButtonActive('quit', false);\n    this.titlebar.toggleButtonDisabled('quit', true);\n\n    if (!this.isCameraMode) {\n      this.toggleView();\n    }\n\n    this.instances.forEach(function (instance) {\n      if (instance && typeof instance.resetTask === 'function') {\n        instance.resetTask();\n      }\n    });\n  }\n  /**\n   * Get xAPI data from all exercise instances.\n   * @return {object[]} XAPI data of all exercise instances.\n   */\n  ;\n\n  _proto.getXAPIDataFromChildren = function getXAPIDataFromChildren() {\n    return this.instances.map(function (child) {\n      if (child && typeof child.getXAPIData === 'function') {\n        return child.getXAPIData();\n      }\n    }).filter(function (data) {\n      return !!data;\n    });\n  }\n  /**\n   * Get current state to be saved.\n   * @return {object} CurrentState.\n   */\n  ;\n\n  _proto.getCurrentState = function getCurrentState() {\n    return this.instances.map(function (instance) {\n      if (!instance || typeof instance.getCurrentState !== 'function') {\n        return {};\n      }\n\n      return instance.getCurrentState();\n    });\n  };\n\n  return ARScavengerContent;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLWNvbnRlbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oNXAtYXItc2NhdmVuZ2VyLy4vc3JjL3NjcmlwdHMvaDVwLWFyLXNjYXZlbmdlci1jb250ZW50LmpzP2Q1NmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0IHJlcXVpcmVkIGNsYXNzZXNcbmltcG9ydCBBUlNjYXZlbmdlckNvbnRlbnRUaXRsZWJhciBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItY29udGVudC10aXRsZWJhcic7XG5pbXBvcnQgQVJTY2F2ZW5nZXJDb250ZW50Q2FtZXJhIGZyb20gJy4vaDVwLWFyLXNjYXZlbmdlci1jb250ZW50LWNhbWVyYSc7XG5pbXBvcnQgQVJTY2F2ZW5nZXJDb250ZW50QWN0aW9uIGZyb20gJy4vaDVwLWFyLXNjYXZlbmdlci1jb250ZW50LWFjdGlvbic7XG5pbXBvcnQgQVJTY2F2ZW5nZXJTY3JlZW5FbmQgZnJvbSAnLi9oNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi1lbmQnO1xuaW1wb3J0IEFSU2NhdmVuZ2VyU2NyZWVuVGl0bGUgZnJvbSAnLi9oNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi10aXRsZSc7XG5pbXBvcnQgVXRpbCBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItdXRpbCc7XG5cbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIGNvbnRlbnQgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFSU2NhdmVuZ2VyQ29udGVudCB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyBQYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gY29udGVudElkIENvbnRlbnQgSUQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbZXh0cmFzXSBFeHRyYXMgaW5jbC4gcHJldmlvdXMgc3RhdGUuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbY2FsbGJhY2tzXSBDYWxsYmFja3MuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMsIGNvbnRlbnRJZCwgZXh0cmFzLCBjYWxsYmFja3MpIHtcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICB0aGlzLmNvbnRlbnRJZCA9IGNvbnRlbnRJZDtcbiAgICB0aGlzLmV4dHJhcyA9IGV4dHJhcyB8fCB7fTtcbiAgICB0aGlzLmV4dHJhcy5wcmV2aW91c1N0YXRlID0gdGhpcy5leHRyYXMucHJldmlvdXNTdGF0ZSB8fCBbXTtcblxuICAgIC8vIFNhbml0aXplIGNhbGxiYWNrc1xuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzIHx8IHt9O1xuICAgIHRoaXMuY2FsbGJhY2tzLm9uRnVsbFNjcmVlbiA9IHRoaXMuY2FsbGJhY2tzLm9uRnVsbFNjcmVlbiB8fCAoKCkgPT4ge30pO1xuICAgIHRoaXMuY2FsbGJhY2tzLm9uUXVpdCA9IHRoaXMuY2FsbGJhY2tzLm9uUXVpdCB8fCAoKCkgPT4gbnVsbCk7XG4gICAgdGhpcy5jYWxsYmFja3Mub25SZWFkID0gdGhpcy5jYWxsYmFja3Mub25SZWFkIHx8ICgoKSA9PiB7fSk7XG4gICAgdGhpcy5jYWxsYmFja3Mub25SZXNpemUgPSB0aGlzLmNhbGxiYWNrcy5vblJlc2l6ZSB8fCAoKCkgPT4ge30pO1xuXG4gICAgdGhpcy5pc0NhbWVyYU1vZGUgPSB0cnVlO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBpbnN0YW5jZXNcbiAgICB0aGlzLmluc3RhbmNlc0luaXRpYWxpemVkID0gMDtcbiAgICB0aGlzLmluc3RhbmNlcyA9IFtdO1xuICAgIHRoaXMuaW5zdGFuY2VET01zID0gW107XG4gICAgdGhpcy5pbnN0YW5jZXNINVAgPSAwO1xuICAgIHRoaXMudGFza3NINVAgPSAwO1xuXG4gICAgdGhpcy5tYXJrZXJzRm91bmQgPSBuZXcgQXJyYXkodGhpcy5wYXJhbXMubWFya2Vycy5sZW5ndGgpO1xuXG4gICAgLy8gU2NyZWVuIGNvbnRlbnQgKGNvbnRhaW5lcilcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItc2NyZWVuLWNvbnRlbnQnKTtcblxuICAgIC8vIFNjcmVlbjogVGl0bGVcbiAgICBpZiAodGhpcy5wYXJhbXMudGl0bGVTY3JlZW4uc2hvd1RpdGxlU2NyZWVuKSB7XG4gICAgICB0aGlzLnNjcmVlblRpdGxlID0gdGhpcy5idWlsZFRpdGxlU2NyZWVuKCk7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNjcmVlblRpdGxlLmdldERPTSgpKTtcbiAgICB9XG5cbiAgICAvLyBTY3JlZW46IENvbnRlbnRcbiAgICB0aGlzLnNjcmVlbkNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnNjcmVlbkNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1jb250ZW50LWNvbnRhaW5lcicpO1xuICAgIGlmICh0aGlzLnBhcmFtcy50aXRsZVNjcmVlbi5zaG93VGl0bGVTY3JlZW4pIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNjcmVlbkNvbnRlbnQpO1xuXG4gICAgdGhpcy5tZXNzYWdlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMubWVzc2FnZXMuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1jb250ZW50LW1lc3NhZ2UnKTtcblxuICAgIHRoaXMubWVzc2FnZXMuaW5uZXJUZXh0ID0gVXRpbC5odG1sRGVjb2RlKHRoaXMucGFyYW1zLmwxMG4uaW5pdGlhbGl6aW5nQ29udGVudCk7XG4gICAgdGhpcy5zY3JlZW5Db250ZW50LmFwcGVuZENoaWxkKHRoaXMubWVzc2FnZXMpO1xuXG4gICAgbGV0IGVycm9yTWVzc2FnZXMgPSBbXTtcblxuICAgIC8vIE5vIG1hcmtlcnMgc2V0P1xuICAgIGlmIChwYXJhbXMubWFya2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGVycm9yTWVzc2FnZXMucHVzaCh0aGlzLnBhcmFtcy5sMTBuLmVycm9yTm9NYXJrZXJzKTtcbiAgICB9XG5cbiAgICAvLyBJRTExXG4gICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1RyaWRlbnQvJykgIT09IC0xKSB7XG4gICAgICBlcnJvck1lc3NhZ2VzLnB1c2godGhpcy5wYXJhbXMubDEwbi5lcnJvckJyb3dzZXJOb3RTdXBwb3J0ZWQpO1xuICAgIH1cblxuICAgIC8vIEJyYXZlXG4gICAgaWYgKHdpbmRvdy5CcmF2ZSkge1xuICAgICAgZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMucGFyYW1zLmwxMG4ud2FybmluZ0JyYXZlKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBjYW1lcmEgYWNjZXNzLlxuICAgIGlmICghd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMgfHwgIXdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSkge1xuICAgICAgZXJyb3JNZXNzYWdlcy5wdXNoKHRoaXMucGFyYW1zLmwxMG4uZXJyb3JOb0NhbWVyYVN1cHBvcnQpO1xuICAgIH1cblxuICAgIGlmIChlcnJvck1lc3NhZ2VzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhpcy5oYW5kbGVJbml0aWFsaXphdGlvbkZhaWxlZChlcnJvck1lc3NhZ2VzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYW1lcmEgYWNjZXNzXG4gICAgd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzoge3dpZHRoOiA0MDk2LCBoZWlnaHQ6IDIxNjB9fSlcbiAgICAgIC50aGVuKChzdHJlYW0pID0+IHtcbiAgICAgICAgLy8gRnJlZSBzdHJlYW0sIG90aGVyd2lzZSBzb21lIGRldmljZXMgZmFpbCBhcyBjYW1lcmEgc2VlbXMgdG8gYmUgaW4gdXNlXG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVJbml0aWFsaXphdGlvblN1Y2NlZWRlZCgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGAke3RoaXMucGFyYW1zLmwxMG4uZXJyb3JOb0NhbWVyYUFjY2Vzc30gJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5oYW5kbGVJbml0aWFsaXphdGlvbkZhaWxlZChbbWVzc2FnZV0pO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGZhaWxpbmcgb2YgaW5pdGlhbGl6YXRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IGVycm9yTWVzc2FnZXMgRXJyb3IgbWVzc2FnZXMgdG8gZGlzcGxheS5cbiAgICovXG4gIGhhbmRsZUluaXRpYWxpemF0aW9uRmFpbGVkKGVycm9yTWVzc2FnZXMgPSBbXSkge1xuICAgIHRoaXMubWVzc2FnZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5tZXNzYWdlcy5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLWNvbnRlbnQtbWVzc2FnZS1lcnJvcicpO1xuXG4gICAgZXJyb3JNZXNzYWdlcy5mb3JFYWNoKChtZXNzYWdlKSA9PiB7XG4gICAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIGVudHJ5LmlubmVyVGV4dCA9IFV0aWwuaHRtbERlY29kZShtZXNzYWdlKTtcbiAgICAgIHRoaXMubWVzc2FnZXMuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBpbml0aWFsaXphdGlvbiBpZiBjYW1lcmEgaXMgYWNjZXNzaWJsZS5cbiAgICovXG4gIGhhbmRsZUluaXRpYWxpemF0aW9uU3VjY2VlZGVkKCkge1xuICAgIHRoaXMuc2NyZWVuQ29udGVudC5yZW1vdmVDaGlsZCh0aGlzLm1lc3NhZ2VzKTtcblxuICAgIC8vIFRpdGxlYmFyXG4gICAgdGhpcy50aXRsZWJhciA9IHRoaXMuYnVpbGRUaXRsZUJhcigpO1xuICAgIGlmICghdGhpcy5wYXJhbXMuZW5kU2NyZWVuLnNob3dFbmRTY3JlZW4pIHtcbiAgICAgIHRoaXMudGl0bGViYXIuaGlkZUJ1dHRvbigncXVpdCcpO1xuICAgIH1cblxuICAgIHRoaXMuc2NyZWVuQ29udGVudC5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlYmFyLmdldERPTSgpKTtcblxuICAgIC8vIFN1YmplY3RcbiAgICB0aGlzLmNhbWVyYSA9IHRoaXMuYnVpbGRDYW1lcmEoXG4gICAgICB7XG4gICAgICAgIGNvbnRlbnRJZDogdGhpcy5jb250ZW50SWQsXG4gICAgICAgIG1hcmtlcnM6IHRoaXMucGFyYW1zLm1hcmtlcnMsXG4gICAgICAgIGZhbGxiYWNrSGVpZ2h0OiB0aGlzLnBhcmFtcy5iZWhhdmlvdXIuZmFsbGJhY2tIZWlnaHRcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9uUmVzaXplOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNpemUoe2Zyb21TdWJqZWN0OiB0cnVlfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTWFya2VyRm91bmQ6IChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlTWFya2VyRm91bmQoZXZlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBvbk1hcmtlckxvc3Q6IChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlTWFya2VyTG9zdChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0aGlzLmlzQ2FtZXJhTW9kZVxuICAgICk7XG5cbiAgICAvLyBBY3Rpb25cbiAgICB0aGlzLmFjdGlvbiA9IHRoaXMuYnVpbGRBY3Rpb24oe1xuICAgICAgbDEwbjoge1xuICAgICAgICBub3RoaW5nVG9TZWU6IHRoaXMucGFyYW1zLmwxMG4ubm90aGluZ1RvU2VlXG4gICAgICB9XG4gICAgfSwge30pO1xuXG4gICAgLy8gUGFuZWxcbiAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItcGFuZWwnKTtcbiAgICBwYW5lbC5hcHBlbmRDaGlsZCh0aGlzLmNhbWVyYS5nZXRET00oKSk7XG4gICAgcGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5hY3Rpb24uZ2V0RE9NKCkpO1xuXG4gICAgdGhpcy5zY3JlZW5Db250ZW50LmFwcGVuZENoaWxkKHBhbmVsKTtcblxuICAgIC8vIFNjcmVlbjogRW5kXG4gICAgaWYgKHRoaXMucGFyYW1zLmVuZFNjcmVlbi5zaG93RW5kU2NyZWVuKSB7XG4gICAgICB0aGlzLnNjcmVlbkVuZCA9IHRoaXMuYnVpbGRFbmRTY3JlZW4oKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2NyZWVuRW5kLmdldERPTSgpKTtcbiAgICB9XG5cbiAgICB0aGlzLmluc3RhbnRpYXRlTWFya2VycygpO1xuXG4gICAgLy8gV2lsbCBiZSBkaXNwbGF5ZWQgd2hlbiBuZWNlc3NhcnlcbiAgICB0aGlzLnRpdGxlYmFyLmhpZGVCdXR0b24oJ3F1aXQnKTtcblxuICAgIC8vIE5vIHZpZXcgc3dpdGNoZXIgcmVxdWlyZWRcbiAgICBpZiAodGhpcy5pbnN0YW5jZXNINVAgPT09IDApIHtcbiAgICAgIHRoaXMudGl0bGViYXIuaGlkZUJ1dHRvbignc3dpdGNoVmlldycpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgbWFya2VyIGZvdW5kLlxuICAgKi9cbiAgaGFuZGxlTWFya2VyRm91bmQoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuaXNDYW1lcmFNb2RlICYmIHRoaXMuaXNOYXJyb3dTY3JlZW4pIHtcbiAgICAgIHJldHVybjsgLy8gTm90IHVzaW5nIGNhbWVyYVxuICAgIH1cblxuICAgIGNvbnN0IG1hcmtlcklkID0gcGFyc2VJbnQoZXZlbnQudGFyZ2V0LmlkKTtcbiAgICBjb25zdCBtYXJrZXIgPSB0aGlzLnBhcmFtcy5tYXJrZXJzW21hcmtlcklkXTtcblxuICAgIGlmIChtYXJrZXIuYWN0aW9uVHlwZSA9PT0gJ2g1cCcpIHtcblxuICAgICAgdGhpcy5pbnN0YW50aWF0ZUNvbnRlbnQobWFya2VySWQpO1xuXG4gICAgICB0aGlzLmN1cnJlbnRJbnN0YW5jZUlkID0gbWFya2VySWQ7XG4gICAgICB0aGlzLmFjdGlvbi5hdHRhY2hJbnN0YW5jZSh0aGlzLmluc3RhbmNlRE9Nc1ttYXJrZXJJZF0sIG1hcmtlcklkKTtcbiAgICAgIHRoaXMuYWN0aW9uLnNob3dDb250ZW50KCk7XG4gICAgICB0aGlzLmFjdGlvbi5zaG93KCk7XG4gICAgICB0aGlzLnRpdGxlYmFyLnRvZ2dsZUJ1dHRvbkFjdGl2ZSgnc3dpdGNoVmlldycsIHRydWUpO1xuXG4gICAgICBpZiAodGhpcy5pc0NhbWVyYU1vZGUpIHtcbiAgICAgICAgdGhpcy50b2dnbGVWaWV3KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIEg1UCBjb250ZW50LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaWQgSWQgb2YgaW5zdGFuY2UgZHVtbXkgdG8gYmUgaW5zdGFudGlhdGVkLlxuICAgKi9cbiAgaW5zdGFudGlhdGVDb250ZW50KGlkKSB7XG4gICAgaWYgKCF0aGlzLmluc3RhbmNlc1tpZF0udW5pbnN0YW50aWF0ZWQpIHtcbiAgICAgIHJldHVybjsgLy8gQWxyZWFkeSBpbnN0YW50aWF0ZWRcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSB0aGlzLmluc3RhbmNlc1tpZF0udW5pbnN0YW50aWF0ZWQ7XG4gICAgY29uc3QgaW5kZXggPSBwYXJhbXMuaW5kZXg7XG4gICAgY29uc3QgbWFjaGluZU5hbWUgPSBwYXJhbXMubWFjaGluZU5hbWU7XG5cbiAgICB0aGlzLmluc3RhbmNlc1tpZF0gPSBINVAubmV3UnVubmFibGUoXG4gICAgICBwYXJhbXMuaW50ZXJhY3Rpb24sXG4gICAgICBwYXJhbXMuY29udGVudElkLFxuICAgICAgSDVQLmpRdWVyeShwYXJhbXMuYWN0aW9uV3JhcHBlciksXG4gICAgICB0cnVlLFxuICAgICAge3ByZXZpb3VzU3RhdGU6IHBhcmFtcy5wcmV2aW91c1N0YXRlfVxuICAgICk7XG5cbiAgICB0aGlzLmluc3RhbmNlc1tpZF0ub24oJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgIHRoaXMucmVzaXplKHtmcm9tQWN0aW9uOiB0cnVlfSk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5pc1Rhc2sodGhpcy5pbnN0YW5jZXNbaWRdLCBtYWNoaW5lTmFtZSkpIHtcbiAgICAgIHRoaXMudGFza3NINVArKztcblxuICAgICAgLy8gTGlzdGVuIGZvciBpbnN0YW5jZSBjb21wbGV0aW9uXG4gICAgICB0aGlzLmluc3RhbmNlc1tpZF0ub24oJ3hBUEknLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmdldFZlcmIoKSAhPT0gJ2Fuc3dlcmVkJyAmJiBldmVudC5nZXRWZXJiKCkgIT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBub3QgcmVsZXZhbnRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGlzIGFmdGVyIHRoZSBjdXJyZW50IGV2ZW50IGhhcyBiZWVuIHNlbnRcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVNYXJrZXJHb3RDb21wbGV0ZWQoaW5kZXgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhbGwgbWFya2Vycy5cbiAgICovXG4gIGluc3RhbnRpYXRlTWFya2VycygpIHtcbiAgICB0aGlzLnBhcmFtcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlciwgaW5kZXgpID0+IHtcbiAgICAgIC8vIFNhbml0aXphdGlvblxuICAgICAgdGhpcy5tYXJrZXJzRm91bmRbaW5kZXhdID0gdGhpcy5tYXJrZXJzRm91bmRbaW5kZXhdIHx8IHtcbiAgICAgICAgYWN0aW9uVHlwZTogbWFya2VyLmFjdGlvblR5cGUsXG4gICAgICAgIGNvbXBsZXRlZDogZmFsc2VcbiAgICAgIH07XG5cbiAgICAgIGlmIChtYXJrZXIuYWN0aW9uVHlwZSAhPT0gJ2g1cCcpIHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMucHVzaChudWxsKTtcbiAgICAgICAgdGhpcy5pbnN0YW5jZURPTXMucHVzaChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IG1hcmtlci5pbnRlcmFjdGlvbi5pbnRlcmFjdGlvbjtcblxuICAgICAgbGV0IGFjdGlvbk1hY2hpbmVOYW1lO1xuICAgICAgLy8gQ3JlYXRlIG5ldyBpbnN0YW5jZSByZXBsYWNpbmcgYWN0aW9uIHdyYXBwZXIgRE9NXG4gICAgICBpZiAoaW50ZXJhY3Rpb24ubGlicmFyeSkge1xuICAgICAgICBhY3Rpb25NYWNoaW5lTmFtZSA9IGludGVyYWN0aW9uLmxpYnJhcnkuc3BsaXQoJyAnKVswXTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGluc3RhbmNlXG4gICAgICBpZiAoYWN0aW9uTWFjaGluZU5hbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmNvbnRlbnRJZCkge1xuICAgICAgICBjb25zdCBhY3Rpb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGFjdGlvbldyYXBwZXIuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1jb250ZW50LWFjdGlvbi1saWJyYXJ5LXdyYXBwZXInKTtcblxuICAgICAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gdGhpcy5leHRyYXMucHJldmlvdXNTdGF0ZVtpbmRleF0gIT09IG51bGwgP1xuICAgICAgICAgIHRoaXMuZXh0cmFzLnByZXZpb3VzU3RhdGVbaW5kZXhdIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gV2lsbCBiZSBpbnN0YW50aWF0ZWQgb25jZSBhIG1hcmtlciBpcyBmb3VuZFxuICAgICAgICBjb25zdCBpbnN0YW5jZUR1bW15ID0ge1xuICAgICAgICAgIHVuaW5zdGFudGlhdGVkOiB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbjogaW50ZXJhY3Rpb24sXG4gICAgICAgICAgICBjb250ZW50SWQ6IHRoaXMuY29udGVudElkLFxuICAgICAgICAgICAgYWN0aW9uV3JhcHBlcjogYWN0aW9uV3JhcHBlcixcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdGU6IHByZXZpb3VzU3RhdGUsXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBtYWNoaW5lTmFtZTogYWN0aW9uTWFjaGluZU5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uOiAoKSA9PiB7fSxcbiAgICAgICAgICB0cmlnZ2VyOiAoKSA9PiB7fVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzSDVQKys7XG5cbiAgICAgICAgdGhpcy5pbnN0YW5jZXMucHVzaChpbnN0YW5jZUR1bW15KTtcbiAgICAgICAgdGhpcy5pbnN0YW5jZURPTXMucHVzaChhY3Rpb25XcmFwcGVyKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmluc3RhbmNlcy5wdXNoKG51bGwpO1xuICAgICAgICB0aGlzLmluc3RhbmNlRE9Ncy5wdXNoKG51bGwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBtYXJrZXIgZ290IGNvbXBsZXRlZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGlkIE1hcmtlcidzIGlkLlxuICAgKi9cbiAgaGFuZGxlTWFya2VyR290Q29tcGxldGVkKGlkKSB7XG4gICAgdGhpcy5tYXJrZXJzRm91bmRbaWRdLmNvbXBsZXRlZCA9IHRydWU7XG5cbiAgICBjb25zdCBtYXJrZXJzQ29tcGxldGVkID0gdGhpcy5tYXJrZXJzRm91bmQucmVkdWNlKChzdW0sIG1hcmtlcikgPT4ge1xuICAgICAgcmV0dXJuIHN1bSArICgobWFya2VyICYmIG1hcmtlci5jb21wbGV0ZWQpID8gMSA6IDApO1xuICAgIH0sIDApO1xuXG4gICAgLy8gQWxsIHRhc2tzIGNvbXBsZXRlZFxuICAgIGlmIChtYXJrZXJzQ29tcGxldGVkID09PSB0aGlzLnRhc2tzSDVQKSB7XG4gICAgICB0aGlzLmhhbmRsZUNvbXBsZXRlZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgbWFya2VyIGxvc3QuXG4gICAqL1xuICBoYW5kbGVNYXJrZXJMb3N0KGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50OyAvLyBEdW1teVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgYW4gSDVQIGluc3RhbmNlIGlzIGEgdGFzay5cbiAgICogQHBhcmFtIHtINVAuQ29udGVudFR5cGV9IGluc3RhbmNlIEg1UCBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hY2hpbmVOYW1lIEg1UCBNYWNoaW5lTmFtZS5cbiAgICovXG4gIGlzVGFzayhpbnN0YW5jZSwgbWFjaGluZU5hbWUpIHtcbiAgICAvLyBDb3Vyc2UgUHJlc2VudGF0aW9ucyBsb2FkcyBzdWJjb250ZW50IGR5bmFtaWNhbGx5LCBjYW4ndCB0cnVzdCBnZXRNYXhTY29yZVxuICAgIGlmIChtYWNoaW5lTmFtZSA9PT0gJ0g1UC5Db3Vyc2VQcmVzZW50YXRpb24nKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuaXNUYXNrO1xuICAgIH1cblxuICAgIHJldHVybiAoaW5zdGFuY2UuZ2V0TWF4U2NvcmUgJiYgaW5zdGFuY2UuZ2V0TWF4U2NvcmUoKSA+IDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgRE9NIGZvciB0aGlzIGNsYXNzLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gRE9NIGZvciB0aGlzIGNsYXNzLlxuICAgKi9cbiAgZ2V0RE9NKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGl0bGViYXIuXG4gICAqIEByZXR1cm4ge0FSU2NhdmVuZ2VyQ29udGVudFRpdGxlYmFyfSBUaXRsZWJhci5cbiAgICovXG4gIGJ1aWxkVGl0bGVCYXIoKSB7XG4gICAgcmV0dXJuIG5ldyBBUlNjYXZlbmdlckNvbnRlbnRUaXRsZWJhcihcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IHRoaXMuZXh0cmFzLm1ldGFkYXRhLnRpdGxlLFxuICAgICAgICBhMTF5OiB7XG4gICAgICAgICAgYnV0dG9uRnVsbFNjcmVlbkVudGVyOiB0aGlzLnBhcmFtcy5hMTF5LmJ1dHRvbkZ1bGxTY3JlZW5FbnRlcixcbiAgICAgICAgICBidXR0b25GdWxsU2NyZWVuRXhpdDogdGhpcy5wYXJhbXMuYTExeS5idXR0b25GdWxsU2NyZWVuRXhpdCxcbiAgICAgICAgICBidXR0b25Td2l0Y2hWaWV3QWN0aW9uOiB0aGlzLnBhcmFtcy5hMTF5LmJ1dHRvblN3aXRjaFZpZXdBY3Rpb24sXG4gICAgICAgICAgYnV0dG9uU3dpdGNoVmlld0NhbWVyYTogdGhpcy5wYXJhbXMuYTExeS5idXR0b25Td2l0Y2hWaWV3Q2FtZXJhLFxuICAgICAgICAgIGJ1dHRvblN3aXRjaFZpZXdEaXNhYmxlZDogdGhpcy5wYXJhbXMuYTExeS5idXR0b25Td2l0Y2hWaWV3RGlzYWJsZWQsXG4gICAgICAgICAgYnV0dG9uUXVpdDogdGhpcy5wYXJhbXMuYTExeS5idXR0b25RdWl0LFxuICAgICAgICAgIGJ1dHRvblF1aXREaXNhYmxlZDogdGhpcy5wYXJhbXMuYTExeS5idXR0b25RdWl0RGlzYWJsZWQsXG4gICAgICAgIH0sXG4gICAgICAgIGNhbkhhc0Z1bGxTY3JlZW46IHRoaXMucGFyYW1zLmNhbkhhc0Z1bGxTY3JlZW5cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG9uQ2xpY2tCdXR0b25GdWxsU2NyZWVuOiAoZXZlbnQpID0+IHRoaXMuY2FsbGJhY2tzLm9uRnVsbFNjcmVlbihldmVudCksXG4gICAgICAgIG9uQ2xpY2tCdXR0b25RdWl0OiAoZXZlbnQpID0+IHRoaXMuaGFuZGxlUXVpdChldmVudCksXG4gICAgICAgIG9uQ2xpY2tCdXR0b25Td2l0Y2hWaWV3OiAoZXZlbnQpID0+IHRoaXMuaGFuZGxlU3dpdGNoVmlldyhldmVudClcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIHRpdGxlIHNjcmVlblxuICAgKi9cbiAgYnVpbGRUaXRsZVNjcmVlbigpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB0aGlzLnBhcmFtcy50aXRsZVNjcmVlbjtcbiAgICBwYXJhbXMubDEwbiA9IHtcbiAgICAgICdzdGFydCc6IHRoaXMucGFyYW1zLmwxMG4uc3RhcnRcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBBUlNjYXZlbmdlclNjcmVlblRpdGxlKFxuICAgICAgcGFyYW1zLFxuICAgICAge1xuICAgICAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVUaXRsZVNjcmVlbkNsb3NlZCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGhpcy5jb250ZW50SWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIHRpdGxlIHNjcmVlblxuICAgKi9cbiAgYnVpbGRFbmRTY3JlZW4oKSB7XG4gICAgY29uc3QgcGFyYW1zID0gdGhpcy5wYXJhbXMuZW5kU2NyZWVuO1xuICAgIHBhcmFtcy5sMTBuID0ge1xuICAgICAgJ3JldHJ5JzogdGhpcy5wYXJhbXMubDEwbi5yZXRyeVxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IEFSU2NhdmVuZ2VyU2NyZWVuRW5kKFxuICAgICAgcGFyYW1zLFxuICAgICAge1xuICAgICAgICBvblJldHJ5OiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVSZXRyeSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGhpcy5jb250ZW50SWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgY29udGVudC5cbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy5zY3JlZW5Db250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSBjb250ZW50LlxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLnNjcmVlbkNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGl0bGUgc2NyZWVuIGNsb3NlZC5cbiAgICovXG4gIGhhbmRsZVRpdGxlU2NyZWVuQ2xvc2VkKCkge1xuICAgIHRoaXMuc2NyZWVuVGl0bGUuaGlkZSgpO1xuICAgIHRoaXMuc2hvdygpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblJlc2l6ZSgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBjb21wbGV0ZWQuXG4gICAqL1xuICBoYW5kbGVDb21wbGV0ZWQoKSB7XG4gICAgdGhpcy50aXRsZWJhci5zaG93QnV0dG9uKCdxdWl0Jyk7XG4gICAgdGhpcy50aXRsZWJhci50b2dnbGVCdXR0b25EaXNhYmxlZCgncXVpdCcsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgcXVpdC5cbiAgICovXG4gIGhhbmRsZVF1aXQoKSB7XG4gICAgaWYgKHRoaXMucGFyYW1zLmVuZFNjcmVlbi5zaG93RW5kU2NyZWVuKSB7XG4gICAgICBjb25zdCBzY29yZSA9IHRoaXMuZ2V0U2NvcmUoKTtcbiAgICAgIGNvbnN0IG1heFNjb3JlID0gdGhpcy5nZXRNYXhTY29yZSgpO1xuXG4gICAgICBjb25zdCBzY29yZVRleHQgPSBINVAuUXVlc3Rpb25cbiAgICAgICAgLmRldGVybWluZU92ZXJhbGxGZWVkYmFjayh0aGlzLnBhcmFtcy5lbmRTY3JlZW4ub3ZlcmFsbEZlZWRiYWNrLCBzY29yZSAvIG1heFNjb3JlKVxuICAgICAgICAucmVwbGFjZSgnQHNjb3JlJywgc2NvcmUpXG4gICAgICAgIC5yZXBsYWNlKCdAdG90YWwnLCBtYXhTY29yZSk7XG5cbiAgICAgIHRoaXMuc2NyZWVuRW5kLnNldFNjb3JlVGV4dChzY29yZVRleHQpO1xuICAgICAgdGhpcy5zY3JlZW5FbmQuc2V0TWF4U2NvcmUodGhpcy5nZXRNYXhTY29yZSgpKTtcblxuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB0aGlzLnNjcmVlbkVuZC5zaG93KCk7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyBQdXQgdGhpcyBoZXJlIHRvIGFsbG93IGFuaW1hdGlvbiB0byBiZSB2aXNpYmxlXG4gICAgICAgIHRoaXMuc2NyZWVuRW5kLnNldFNjb3JlKHRoaXMuZ2V0U2NvcmUoKSk7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25SZXNpemUoKTtcbiAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2tzLm9uUXVpdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByZXRyeS5cbiAgICovXG4gIGhhbmRsZVJldHJ5KCkge1xuICAgIC8vIFJlc2V0IGFsbCBpbnRlcmFjdGlvbnNcbiAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICB0aGlzLnNjcmVlbkVuZC5oaWRlKCk7XG5cbiAgICBpZiAodGhpcy5wYXJhbXMudGl0bGVTY3JlZW4uc2hvd1RpdGxlU2NyZWVuKSB7XG4gICAgICB0aGlzLnNjcmVlblRpdGxlLnNob3coKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY2FsbGJhY2tzLm9uUmVzaXplKCk7XG4gICAgfSwgMCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHN1YmplY3QgRE9NLlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIFBhcmFtZXRlcnMgZm9yIFN1YmplY3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWxsYmFja3MgQ2FsbGJhY2tzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQ2FtZXJhTW9kZSBTd2l0Y2ggZm9yIGFjdGlvbiBtb2RlLlxuICAgKi9cbiAgYnVpbGRDYW1lcmEocGFyYW1zID0ge30sIGNhbGxiYWNrcyA9IHt9LCBpc0NhbWVyYU1vZGUgPSB0cnVlKSB7XG4gICAgY29uc3QgY2FtZXJhID0gbmV3IEFSU2NhdmVuZ2VyQ29udGVudENhbWVyYSh7XG4gICAgICBjb250ZW50SWQ6IHBhcmFtcy5jb250ZW50SWQsXG4gICAgICBmYWxsYmFja0hlaWdodDogcGFyYW1zLmZhbGxiYWNrSGVpZ2h0LFxuICAgICAgbWFya2VyczogcGFyYW1zLm1hcmtlcnMubWFwKG1hcmtlciA9PiAoe1xuICAgICAgICBhY3Rpb25UeXBlOiBtYXJrZXIuYWN0aW9uVHlwZSxcbiAgICAgICAgbWFya2VyUGF0dGVybjogbWFya2VyLm1hcmtlclBhdHRlcm4sXG4gICAgICAgIG1vZGVsOiBtYXJrZXIubW9kZWxcbiAgICAgIH0pKVxuICAgIH0sIGNhbGxiYWNrcyk7XG4gICAgY29uc3Qgc3ViamVjdENvbnRhaW5lciA9IGNhbWVyYS5nZXRET00oKTtcblxuICAgIGlmICghaXNDYW1lcmFNb2RlKSB7XG4gICAgICBzdWJqZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItYWN0aW9uLW1vZGUnKTtcbiAgICB9XG5cbiAgICAvLyBJZiBhY3Rpb24gaXMgb3BlbmVkIGFuZCBkaXNwbGF5IGlzIHRvbyBuYXJyb3csIHVuZGlzcGxheSBzdWJqZWN0XG4gICAgc3ViamVjdENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4ge1xuICAgICAgaWYgKCFpc0NhbWVyYU1vZGUpIHtcbiAgICAgICAgaWYgKHN1YmplY3RDb250YWluZXIub2Zmc2V0V2lkdGggPT09IDApIHtcbiAgICAgICAgICBzdWJqZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlc1t0aGlzLmN1cnJlbnRJbnN0YW5jZUlkXSkge1xuICAgICAgICAgIHRoaXMuaW5zdGFuY2VzW3RoaXMuY3VycmVudEluc3RhbmNlSWRdLnRyaWdnZXIoJ3Jlc2l6ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNhbWVyYTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGFjdGlvbiBET00uXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgUGFyZW1ldGVycyBmb3IgU3ViamVjdC5cbiAgICovXG4gIGJ1aWxkQWN0aW9uKHBhcmFtcyA9IHt9LCBjYWxsYmFja3MgPSB7fSkge1xuICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBBUlNjYXZlbmdlckNvbnRlbnRBY3Rpb24ocGFyYW1zLCBjYWxsYmFja3MpO1xuICAgIGFjdGlvbi5oaWRlKCk7XG5cbiAgICAvLyBIaWRlIHdyYXBwZXIgYWZ0ZXIgaXQgaGFzIGJlZW4gbW92ZWQgb3V0IG9mIHNpZ2h0IHRvIHByZXZlbnQgcmVjZWl2aW5nIHRhYiBmb2N1c1xuICAgIGFjdGlvbi5nZXRET00oKS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNDYW1lcmFNb2RlKSB7XG4gICAgICAgIGFjdGlvbi5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZXNbdGhpcy5jdXJyZW50SW5zdGFuY2VJZF0pIHtcbiAgICAgICAgICB0aGlzLmluc3RhbmNlc1t0aGlzLmN1cnJlbnRJbnN0YW5jZUlkXS50cmlnZ2VyKCdyZXNpemUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgfSwgMCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSBjb250ZW50LlxuICAgKi9cbiAgcmVzaXplKHBhcmFtcykge1xuICAgIGlmICghdGhpcy5jYW1lcmEpIHtcbiAgICAgIC8vIFBvc3NpYmx5IG5vIG1hcmtlcnMgb3Igbm90IGluaXRpYWxpemVkIGNvcnJlY3RseVxuICAgICAgdGhpcy5jYWxsYmFja3Mub25SZXNpemUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBOb3QgZG9uZSB1c2luZyBtZWRpYSBxdWVyeSBiZWNhdXNlIGRpc3BsYXkgbmVlZHMgdG8gYmUgbm90LW5vbmUgZmlyc3RcbiAgICBpZiAodGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGggPCB0aGlzLnBhcmFtcy5taW5XaWR0aEZvckR1YWxWaWV3KSB7XG4gICAgICAvLyBPbmx5IHdhbnQgdG8gdHJpZ2dlciB0b2dnbGVNZWRpdW0gb25jZSB3aGVuIG1vZGUgYWN0dWFsbHkgY2hhbmdlc1xuICAgICAgaWYgKCF0aGlzLmlzTmFycm93U2NyZWVuKSB7XG4gICAgICAgIHRoaXMuaXNOYXJyb3dTY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vIFRyaWdnZXJzIGEgdHJhbnNpdGlvbiwgZGlzcGxheSBzZXQgdG8gbm9uZSBhZnRlcndhcmRzIGJ5IGxpc3RlbmVyXG4gICAgICAgIHRoaXMuY2FtZXJhLnNldE5hcnJvd1ZpZXcodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jYW1lcmEuc2hvdygpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY2FtZXJhLnNldE5hcnJvd1ZpZXcoZmFsc2UpO1xuICAgICAgfSwgMCk7XG5cbiAgICAgIGlmICh0aGlzLmlzTmFycm93U2NyZWVuKSB7XG4gICAgICAgIHRoaXMuaXNOYXJyb3dTY3JlZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtcyB8fCBwYXJhbXMuZnJvbVN1YmplY3QgIT09IHRydWUpIHtcbiAgICAgIHRoaXMuY2FtZXJhLnJlc2l6ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2tzLm9uUmVzaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGRpbWVuc2lvbnMgdG8gZnVsbHNjcmVlbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBlbnRlckZ1bGxTY3JlZW4gSWYgdHJ1ZSwgZW50ZXIgZnVsbHNjcmVlbiwgZWxzZSBleGl0LlxuICAgKi9cbiAgc2V0RnVsbFNjcmVlbihlbnRlckZ1bGxTY3JlZW4gPSBmYWxzZSkge1xuICAgIGlmIChlbnRlckZ1bGxTY3JlZW4gPT09IHRydWUpIHtcbiAgICAgIC8vIEdpdmUgYnJvd3NlciBzb21lIHRpbWUgdG8gZ28gdG8gZnVsbHNjcmVlbiBtb2RlIGFuZCByZXR1cm4gcHJvcGVyIHZpZXdwb3J0IGhlaWdodFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1heEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMudGl0bGViYXIuZ2V0RE9NKCkub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbWVyYS5yZXNpemVJZnJhbWVIZWlnaHQobWF4SGVpZ2h0KTtcbiAgICAgICAgdGhpcy5hY3Rpb24ucmVzaXplSWZyYW1lSGVpZ2h0KG1heEhlaWdodCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIEdpdmUgYnJvd3NlciBzb21lIHRpbWUgdG8gZXhpdCBmcm9tIGZ1bGxzY3JlZW4gbW9kZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY2FtZXJhLnJlc2l6ZUlmcmFtZUhlaWdodChudWxsKTtcbiAgICAgICAgdGhpcy5hY3Rpb24ucmVzaXplSWZyYW1lSGVpZ2h0KG51bGwpO1xuICAgICAgfSwgMTAwKTtcblxuICAgICAgLy8gRnVsbFNjcmVlbiBidXR0b24gY2Fubm90IGtub3cgYWJvdXQgZXhpdGluZyBmdWxsIHNjcmVlbiB3aXRoIGVzY2FwZSBrZXlcbiAgICAgIHRoaXMudGl0bGViYXIudG9nZ2xlQnV0dG9uQWN0aXZlKCdmdWxsc2NyZWVuJywgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYWN0aXZhdGlvbiBvZiBvdmVybGF5IGJ1dHRvbi5cbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEV2ZW50IHRoYXQgaXMgY2FsbGluZy5cbiAgICovXG4gIGhhbmRsZVN3aXRjaFZpZXcoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJyAmJiBldmVudC5rZXlDb2RlICE9PSAxMyAmJiBldmVudC5rZXlDb2RlICE9PSAzMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZSA9ICF0aGlzLnRpdGxlYmFyLmlzQnV0dG9uQWN0aXZlKCdzd2l0Y2hWaWV3Jyk7XG5cbiAgICBjb25zdCBtZXNzYWdlID0gKGFjdGl2ZSkgP1xuICAgICAgdGhpcy5wYXJhbXMuYTExeS5hY3Rpb25PcGVuZWQgOlxuICAgICAgdGhpcy5wYXJhbXMuYTExeS5hY3Rpb25DbG9zZWQ7XG4gICAgdGhpcy5jYWxsYmFja3Mub25SZWFkKG1lc3NhZ2UpO1xuXG4gICAgdGhpcy50b2dnbGVWaWV3KCk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGJldHdlZW4gc3ViamVjdCBhbmQgYWN0aW9uLlxuICAgKi9cbiAgdG9nZ2xlVmlldygpIHtcbiAgICAvLyBTaG93IGhpZGRlbiBjb250YWluZXJzIHRvIGFsbG93IHRyYW5zaXRpb25cbiAgICB0aGlzLmNhbWVyYS5zaG93KCk7XG4gICAgdGhpcy5hY3Rpb24uc2hvdygpO1xuXG4gICAgLy8gR2l2ZSBET00gdGltZSB0byBzZXQgZGlzcGxheSBwcm9wZXJ0eVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jYW1lcmEudG9nZ2xlVmlldygpO1xuICAgICAgdGhpcy5hY3Rpb24udG9nZ2xlVmlldygpO1xuXG4gICAgICB0aGlzLmlzQ2FtZXJhTW9kZSA9ICF0aGlzLmlzQ2FtZXJhTW9kZTtcblxuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiByZXN1bHQgaGFzIGJlZW4gc3VibWl0dGVkIG9yIGlucHV0IGhhcyBiZWVuIGdpdmVuLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlLCBpZiBhbnN3ZXIgd2FzIGdpdmVuLlxuICAgKi9cbiAgZ2V0QW5zd2VyR2l2ZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLnNvbWUoKGluc3RhbmNlID0+IChpbnN0YW5jZSAmJiB0eXBlb2YgaW5zdGFuY2UuZ2V0QW5zd2VyR2l2ZW4gPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuZ2V0QW5zd2VyR2l2ZW4oKSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbGF0ZXN0IHNjb3JlLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IGxhdGVzdCBzY29yZS5cbiAgICovXG4gIGdldFNjb3JlKCkge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlcy5yZWR1Y2UoKHNjb3JlLCBpbnN0YW5jZSkgPT4ge1xuICAgICAgcmV0dXJuIHNjb3JlICsgKChpbnN0YW5jZSAmJiB0eXBlb2YgaW5zdGFuY2UuZ2V0U2NvcmUgPT09ICdmdW5jdGlvbicpID8gaW5zdGFuY2UuZ2V0U2NvcmUoKSA6IDApO1xuICAgIH0sIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtYXhpbXVtIHBvc3NpYmxlIHNjb3JlXG4gICAqIEByZXR1cm4ge251bWJlcn0gU2NvcmUgbmVjZXNzYXJ5IGZvciBtYXN0ZXJpbmcuXG4gICAqL1xuICBnZXRNYXhTY29yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMucmVkdWNlKChtYXhTY29yZSwgaW5zdGFuY2UpID0+IHtcbiAgICAgIHJldHVybiBtYXhTY29yZSArICgoaW5zdGFuY2UgJiYgdHlwZW9mIGluc3RhbmNlLmdldE1heFNjb3JlID09PSAnZnVuY3Rpb24nKSA/IGluc3RhbmNlLmdldE1heFNjb3JlKCkgOiAwKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHNvbHV0aW9ucy5cbiAgICovXG4gIHNob3dTb2x1dGlvbnMoKSB7XG4gICAgdGhpcy5pbnN0YW5jZXMuZm9yRWFjaCgoaW5zdGFuY2UpID0+IHtcbiAgICAgIGlmIChpbnN0YW5jZSAmJiB0eXBlb2YgaW5zdGFuY2Uuc2hvd1NvbHV0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnN0YW5jZS5zaG93U29sdXRpb25zKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdGFzay5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXJrZXJzRm91bmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLm1hcmtlcnNGb3VuZFtpXSkge1xuICAgICAgICB0aGlzLm1hcmtlcnNGb3VuZFtpXS5jb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRpdGxlYmFyLnRvZ2dsZUJ1dHRvbkFjdGl2ZSgnc3dpdGNoVmlldycsIGZhbHNlKTtcbiAgICB0aGlzLnRpdGxlYmFyLnRvZ2dsZUJ1dHRvbkFjdGl2ZSgncXVpdCcsIGZhbHNlKTtcbiAgICB0aGlzLnRpdGxlYmFyLnRvZ2dsZUJ1dHRvbkRpc2FibGVkKCdxdWl0JywgdHJ1ZSk7XG5cbiAgICBpZiAoIXRoaXMuaXNDYW1lcmFNb2RlKSB7XG4gICAgICB0aGlzLnRvZ2dsZVZpZXcoKTtcbiAgICB9XG5cbiAgICB0aGlzLmluc3RhbmNlcy5mb3JFYWNoKChpbnN0YW5jZSkgPT4ge1xuICAgICAgaWYgKGluc3RhbmNlICYmIHR5cGVvZiBpbnN0YW5jZS5yZXNldFRhc2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaW5zdGFuY2UucmVzZXRUYXNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHhBUEkgZGF0YSBmcm9tIGFsbCBleGVyY2lzZSBpbnN0YW5jZXMuXG4gICAqIEByZXR1cm4ge29iamVjdFtdfSBYQVBJIGRhdGEgb2YgYWxsIGV4ZXJjaXNlIGluc3RhbmNlcy5cbiAgICovXG4gIGdldFhBUElEYXRhRnJvbUNoaWxkcmVuKCkge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlc1xuICAgICAgLm1hcChjaGlsZCAgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgJiYgdHlwZW9mIGNoaWxkLmdldFhBUElEYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLmdldFhBUElEYXRhKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKGRhdGEgPT4gISFkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBzdGF0ZSB0byBiZSBzYXZlZC5cbiAgICogQHJldHVybiB7b2JqZWN0fSBDdXJyZW50U3RhdGUuXG4gICAqL1xuICBnZXRDdXJyZW50U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLm1hcCgoaW5zdGFuY2UpID0+IHtcbiAgICAgIGlmICghaW5zdGFuY2UgfHwgdHlwZW9mIGluc3RhbmNlLmdldEN1cnJlbnRTdGF0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnN0YW5jZS5nZXRDdXJyZW50U3RhdGUoKTtcbiAgICB9KTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFWQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBWEE7QUFjQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFIQTtBQU1BO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUdBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBSEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-content.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-feedback-section.js":
/*!**********************************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-feedback-section.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavengerFeedbackSection)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\n// Import required classes\n\n/** Class representing the content */\n\nvar ARScavengerFeedbackSection = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameter from editor.\n   * @param {object} [callbacks] Callbacks.\n   */\n  function ARScavengerFeedbackSection(params, callbacks) {\n    // Set missing params\n    this.params = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__.default.extend({}, params || {}); // Sanitize callbacks\n\n    this.callbacks = callbacks || {}; // Feedback section\n\n    this.feedbackSection = document.createElement('div');\n    this.feedbackSection.classList.add('h5p-ar-scavenger-feedback-section');\n    this.scoreText = document.createElement('div');\n    this.scoreText.classList.add('h5p-ar-scavenger-score-text');\n    this.scoreText.innerText = '';\n    this.feedbackSection.appendChild(this.scoreText);\n    this.scoreBar = H5P.JoubelUI.createScoreBar(0);\n    this.scoreBar.setScore(-1); // Won't update otherwise because maxScore is set later\n\n    this.scoreBar.appendTo(H5P.jQuery(this.feedbackSection));\n  }\n  /**\n   * Return the DOM for this class.\n   * @return {HTMLElement} DOM for this class.\n   */\n\n\n  var _proto = ARScavengerFeedbackSection.prototype;\n\n  _proto.getDOM = function getDOM() {\n    return this.feedbackSection;\n  }\n  /**\n   * Show feedback section.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.feedbackSection.classList.remove('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Hide feedback section.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.feedbackSection.classList.add('h5p-ar-scavenger-display-none');\n  }\n  /**\n  * Set score.\n  * @param {number} [score=0] Score.\n  */\n  ;\n\n  _proto.setScore = function setScore() {\n    var score = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    this.scoreBar.setScore(score);\n  }\n  /**\n   * Set maximum score.\n   * @param {number} [score=0] Maximum score.\n   */\n  ;\n\n  _proto.setMaxScore = function setMaxScore() {\n    var score = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    this.scoreBar.setMaxScore(score);\n  }\n  /**\n   * Set score text.\n   * @param {string} [scoreText=''] Score text.\n   */\n  ;\n\n  _proto.setScoreText = function setScoreText() {\n    var scoreText = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    this.scoreText.innerText = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__.default.htmlDecode(scoreText);\n  };\n\n  return ARScavengerFeedbackSection;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLWZlZWRiYWNrLXNlY3Rpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oNXAtYXItc2NhdmVuZ2VyLy4vc3JjL3NjcmlwdHMvaDVwLWFyLXNjYXZlbmdlci1mZWVkYmFjay1zZWN0aW9uLmpzP2I2MTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0IHJlcXVpcmVkIGNsYXNzZXNcbmltcG9ydCBVdGlsIGZyb20gJy4vaDVwLWFyLXNjYXZlbmdlci11dGlsJztcblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgY29udGVudCAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVJTY2F2ZW5nZXJGZWVkYmFja1NlY3Rpb24ge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgUGFyYW1ldGVyIGZyb20gZWRpdG9yLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2NhbGxiYWNrc10gQ2FsbGJhY2tzLlxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zLCBjYWxsYmFja3MpIHtcbiAgICAvLyBTZXQgbWlzc2luZyBwYXJhbXNcbiAgICB0aGlzLnBhcmFtcyA9IFV0aWwuZXh0ZW5kKHtcbiAgICB9LCBwYXJhbXMgfHwge30pO1xuXG4gICAgLy8gU2FuaXRpemUgY2FsbGJhY2tzXG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3MgfHwge307XG5cbiAgICAvLyBGZWVkYmFjayBzZWN0aW9uXG4gICAgdGhpcy5mZWVkYmFja1NlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmZlZWRiYWNrU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLWZlZWRiYWNrLXNlY3Rpb24nKTtcblxuICAgIHRoaXMuc2NvcmVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5zY29yZVRleHQuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1zY29yZS10ZXh0Jyk7XG4gICAgdGhpcy5zY29yZVRleHQuaW5uZXJUZXh0ID0gJyc7XG4gICAgdGhpcy5mZWVkYmFja1NlY3Rpb24uYXBwZW5kQ2hpbGQodGhpcy5zY29yZVRleHQpO1xuXG4gICAgdGhpcy5zY29yZUJhciA9IEg1UC5Kb3ViZWxVSS5jcmVhdGVTY29yZUJhcigwKTtcbiAgICB0aGlzLnNjb3JlQmFyLnNldFNjb3JlKC0xKTsgLy8gV29uJ3QgdXBkYXRlIG90aGVyd2lzZSBiZWNhdXNlIG1heFNjb3JlIGlzIHNldCBsYXRlclxuICAgIHRoaXMuc2NvcmVCYXIuYXBwZW5kVG8oSDVQLmpRdWVyeSh0aGlzLmZlZWRiYWNrU2VjdGlvbikpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgRE9NIGZvciB0aGlzIGNsYXNzLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gRE9NIGZvciB0aGlzIGNsYXNzLlxuICAgKi9cbiAgZ2V0RE9NKCkge1xuICAgIHJldHVybiB0aGlzLmZlZWRiYWNrU2VjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGZlZWRiYWNrIHNlY3Rpb24uXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMuZmVlZGJhY2tTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSBmZWVkYmFjayBzZWN0aW9uLlxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLmZlZWRiYWNrU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLWRpc3BsYXktbm9uZScpO1xuICB9XG5cbiAgLyoqXG4gICogU2V0IHNjb3JlLlxuICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NvcmU9MF0gU2NvcmUuXG4gICovXG4gIHNldFNjb3JlKHNjb3JlID0gMCkge1xuICAgIHRoaXMuc2NvcmVCYXIuc2V0U2NvcmUoc2NvcmUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBtYXhpbXVtIHNjb3JlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3Njb3JlPTBdIE1heGltdW0gc2NvcmUuXG4gICAqL1xuICBzZXRNYXhTY29yZShzY29yZSA9IDApIHtcbiAgICB0aGlzLnNjb3JlQmFyLnNldE1heFNjb3JlKHNjb3JlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgc2NvcmUgdGV4dC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzY29yZVRleHQ9JyddIFNjb3JlIHRleHQuXG4gICAqL1xuICBzZXRTY29yZVRleHQoc2NvcmVUZXh0ID0gJycpIHtcbiAgICB0aGlzLnNjb3JlVGV4dC5pbm5lclRleHQgPSBVdGlsLmh0bWxEZWNvZGUoc2NvcmVUZXh0KTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-feedback-section.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-screen-end.js":
/*!****************************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-screen-end.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavengerScreenEnd)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_feedback_section__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-feedback-section */ \"./src/scripts/h5p-ar-scavenger-feedback-section.js\");\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\n// Import required classes\n\n\n/** Class representing the content */\n\nvar ARScavengerScreenEnd = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameter from editor.\n   * @param {object} [callbacks] Callbacks.\n   */\n  function ARScavengerScreenEnd(params, callbacks, contentId) {\n    // Set missing params\n    this.params = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__.default.extend({\n      l10n: {\n        retry: 'Retry'\n      }\n    }, params || {}); // Sanitize callbacks\n\n    this.callbacks = callbacks || {};\n\n    this.callbacks.onClose = this.callbacks.onRetry || function () {}; // Screen\n\n\n    this.screen = document.createElement('div');\n    this.screen.classList.add('h5p-ar-scavenger-screen-end'); // End image (optional)\n\n    if (this.params.endScreenImage && this.params.endScreenImage.params && this.params.endScreenImage.params.file) {\n      var imageWrapper = document.createElement('div');\n      imageWrapper.classList.add('h5p-ar-scavenger-screen-end-image-wrapper');\n      H5P.newRunnable(params.endScreenImage, contentId, H5P.jQuery(imageWrapper), false);\n      var image = imageWrapper.querySelector('img');\n      image.classList.add('h5p-ar-scavenger-screen-end-image');\n      image.style.height = 'auto';\n      image.style.width = 'auto';\n      var bar = document.createElement('div');\n      bar.classList.add('h5p-ar-scavenger-screen-title-image-bar');\n      imageWrapper.appendChild(bar);\n      this.screen.appendChild(imageWrapper);\n    }\n\n    if (this.params.endScreenOutro) {\n      var outro = document.createElement('div');\n      outro.classList.add('h5p-ar-scavenger-screen-end-outro');\n      outro.innerHTML = this.params.endScreenOutro;\n      this.screen.appendChild(outro);\n    }\n\n    this.feedbackSection = new _h5p_ar_scavenger_feedback_section__WEBPACK_IMPORTED_MODULE_0__.default({}, {});\n    this.screen.appendChild(this.feedbackSection.getDOM()); // Retry button\n\n    var button = H5P.JoubelUI.createButton({\n      \"class\": 'h5p-ar-scavenger-screen-end-button-retry',\n      text: this.params.l10n.retry,\n      click: this.callbacks.onRetry\n    }).get(0);\n    this.hide();\n    this.screen.appendChild(button);\n  }\n  /**\n   * Return the DOM for this class.\n   * @return {HTMLElement} DOM for this class.\n   */\n\n\n  var _proto = ARScavengerScreenEnd.prototype;\n\n  _proto.getDOM = function getDOM() {\n    return this.screen;\n  }\n  /**\n   * Show title screen.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.screen.classList.remove('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Hide title screen.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.screen.classList.add('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Set score text.\n   * @param {string} [scoreText=''] Score text.\n   */\n  ;\n\n  _proto.setScoreText = function setScoreText() {\n    var scoreText = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    this.feedbackSection.setScoreText(scoreText);\n  }\n  /**\n   * Set score.\n   * @param {number} [score=0] Score.\n   */\n  ;\n\n  _proto.setScore = function setScore() {\n    var scoreText = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    this.feedbackSection.setScore(scoreText);\n  }\n  /**\n   * Set maximum score.\n   * @param {number} [score=0] Maximum score.\n   */\n  ;\n\n  _proto.setMaxScore = function setMaxScore() {\n    var score = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    this.feedbackSection.setMaxScore(score);\n  };\n\n  return ARScavengerScreenEnd;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi1lbmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oNXAtYXItc2NhdmVuZ2VyLy4vc3JjL3NjcmlwdHMvaDVwLWFyLXNjYXZlbmdlci1zY3JlZW4tZW5kLmpzP2NmMWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0IHJlcXVpcmVkIGNsYXNzZXNcbmltcG9ydCBBUlNjYXZlbmdlckZlZWRiYWNrU2VjdGlvbiBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItZmVlZGJhY2stc2VjdGlvbic7XG5pbXBvcnQgVXRpbCBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItdXRpbCc7XG5cbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIGNvbnRlbnQgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFSU2NhdmVuZ2VyU2NyZWVuRW5kIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIFBhcmFtZXRlciBmcm9tIGVkaXRvci5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtjYWxsYmFja3NdIENhbGxiYWNrcy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmFtcywgY2FsbGJhY2tzLCBjb250ZW50SWQpIHtcbiAgICAvLyBTZXQgbWlzc2luZyBwYXJhbXNcbiAgICB0aGlzLnBhcmFtcyA9IFV0aWwuZXh0ZW5kKHtcbiAgICAgIGwxMG46IHtcbiAgICAgICAgcmV0cnk6ICdSZXRyeSdcbiAgICAgIH1cbiAgICB9LCBwYXJhbXMgfHwge30pO1xuXG4gICAgLy8gU2FuaXRpemUgY2FsbGJhY2tzXG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3MgfHwge307XG4gICAgdGhpcy5jYWxsYmFja3Mub25DbG9zZSA9IHRoaXMuY2FsbGJhY2tzLm9uUmV0cnkgfHwgKCgpID0+IHt9KTtcblxuICAgIC8vIFNjcmVlblxuICAgIHRoaXMuc2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5zY3JlZW4uY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1zY3JlZW4tZW5kJyk7XG5cbiAgICAvLyBFbmQgaW1hZ2UgKG9wdGlvbmFsKVxuICAgIGlmICh0aGlzLnBhcmFtcy5lbmRTY3JlZW5JbWFnZSAmJiB0aGlzLnBhcmFtcy5lbmRTY3JlZW5JbWFnZS5wYXJhbXMgJiYgdGhpcy5wYXJhbXMuZW5kU2NyZWVuSW1hZ2UucGFyYW1zLmZpbGUpIHtcbiAgICAgIGNvbnN0IGltYWdlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaW1hZ2VXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItc2NyZWVuLWVuZC1pbWFnZS13cmFwcGVyJyk7XG4gICAgICBINVAubmV3UnVubmFibGUocGFyYW1zLmVuZFNjcmVlbkltYWdlLCBjb250ZW50SWQsIEg1UC5qUXVlcnkoaW1hZ2VXcmFwcGVyKSwgZmFsc2UpO1xuICAgICAgY29uc3QgaW1hZ2UgPSBpbWFnZVdyYXBwZXIucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi1lbmQtaW1hZ2UnKTtcbiAgICAgIGltYWdlLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuXG4gICAgICBjb25zdCBiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGJhci5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi10aXRsZS1pbWFnZS1iYXInKTtcbiAgICAgIGltYWdlV3JhcHBlci5hcHBlbmRDaGlsZChiYXIpO1xuXG4gICAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChpbWFnZVdyYXBwZXIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmFtcy5lbmRTY3JlZW5PdXRybykge1xuICAgICAgY29uc3Qgb3V0cm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG91dHJvLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItc2NyZWVuLWVuZC1vdXRybycpO1xuICAgICAgb3V0cm8uaW5uZXJIVE1MID0gdGhpcy5wYXJhbXMuZW5kU2NyZWVuT3V0cm87XG4gICAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChvdXRybyk7XG4gICAgfVxuXG4gICAgdGhpcy5mZWVkYmFja1NlY3Rpb24gPSBuZXcgQVJTY2F2ZW5nZXJGZWVkYmFja1NlY3Rpb24oe30sIHt9KTtcbiAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZCh0aGlzLmZlZWRiYWNrU2VjdGlvbi5nZXRET00oKSk7XG5cbiAgICAvLyBSZXRyeSBidXR0b25cbiAgICBjb25zdCBidXR0b24gPSBINVAuSm91YmVsVUkuY3JlYXRlQnV0dG9uKHtcbiAgICAgIGNsYXNzOiAnaDVwLWFyLXNjYXZlbmdlci1zY3JlZW4tZW5kLWJ1dHRvbi1yZXRyeScsXG4gICAgICB0ZXh0OiB0aGlzLnBhcmFtcy5sMTBuLnJldHJ5LFxuICAgICAgY2xpY2s6IHRoaXMuY2FsbGJhY2tzLm9uUmV0cnlcbiAgICB9KS5nZXQoMCk7XG5cbiAgICB0aGlzLmhpZGUoKTtcbiAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChidXR0b24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgRE9NIGZvciB0aGlzIGNsYXNzLlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gRE9NIGZvciB0aGlzIGNsYXNzLlxuICAgKi9cbiAgZ2V0RE9NKCkge1xuICAgIHJldHVybiB0aGlzLnNjcmVlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRpdGxlIHNjcmVlbi5cbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy5zY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIHRpdGxlIHNjcmVlbi5cbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5zY3JlZW4uY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1kaXNwbGF5LW5vbmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgc2NvcmUgdGV4dC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzY29yZVRleHQ9JyddIFNjb3JlIHRleHQuXG4gICAqL1xuICBzZXRTY29yZVRleHQoc2NvcmVUZXh0ID0gJycpIHtcbiAgICB0aGlzLmZlZWRiYWNrU2VjdGlvbi5zZXRTY29yZVRleHQoc2NvcmVUZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgc2NvcmUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NvcmU9MF0gU2NvcmUuXG4gICAqL1xuICBzZXRTY29yZShzY29yZVRleHQgPSAwKSB7XG4gICAgdGhpcy5mZWVkYmFja1NlY3Rpb24uc2V0U2NvcmUoc2NvcmVUZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbWF4aW11bSBzY29yZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY29yZT0wXSBNYXhpbXVtIHNjb3JlLlxuICAgKi9cbiAgc2V0TWF4U2NvcmUoc2NvcmUgPSAwKSB7XG4gICAgdGhpcy5mZWVkYmFja1NlY3Rpb24uc2V0TWF4U2NvcmUoc2NvcmUpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBQ0E7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-screen-end.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-screen-title.js":
/*!******************************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-screen-title.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavengerScreenTitle)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\n// Import required classes\n\n/** Class representing the content */\n\nvar ARScavengerScreenTitle = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameter from editor.\n   * @param {object} [callbacks] Callbacks.\n   */\n  function ARScavengerScreenTitle(params, callbacks, contentId) {\n    // Set missing params\n    this.params = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_0__.default.extend({\n      l10n: {\n        start: 'Start'\n      }\n    }, params || {}); // Sanitize callbacks\n\n    this.callbacks = callbacks || {};\n\n    this.callbacks.onClose = this.callbacks.onClose || function () {}; // Screen\n\n\n    this.screen = document.createElement('div');\n    this.screen.classList.add('h5p-ar-scavenger-screen-title'); // Title image (optional)\n\n    if (this.params.titleScreenImage && this.params.titleScreenImage.params && this.params.titleScreenImage.params.file) {\n      var imageWrapper = document.createElement('div');\n      imageWrapper.classList.add('h5p-ar-scavenger-screen-title-image-wrapper');\n      H5P.newRunnable(params.titleScreenImage, contentId, H5P.jQuery(imageWrapper), false);\n      var image = imageWrapper.querySelector('img');\n      image.classList.add('h5p-ar-scavenger-screen-title-image');\n      image.style.height = 'auto';\n      image.style.width = 'auto';\n      var bar = document.createElement('div');\n      bar.classList.add('h5p-ar-scavenger-screen-title-image-bar');\n      imageWrapper.appendChild(bar);\n      this.screen.appendChild(imageWrapper);\n    }\n\n    if (this.params.titleScreenIntroduction) {\n      var introduction = document.createElement('div');\n      introduction.classList.add('h5p-ar-scavenger-screen-title-introduction');\n      introduction.innerHTML = this.params.titleScreenIntroduction;\n      this.screen.appendChild(introduction);\n    } // Start button\n\n\n    var button = H5P.JoubelUI.createButton({\n      \"class\": 'h5p-ar-scavenger-screen-title-button-start',\n      text: this.params.l10n.start,\n      click: this.callbacks.onClose\n    }).get(0);\n    this.screen.appendChild(button);\n  }\n  /**\n   * Return the DOM for this class.\n   * @return {HTMLElement} DOM for this class.\n   */\n\n\n  var _proto = ARScavengerScreenTitle.prototype;\n\n  _proto.getDOM = function getDOM() {\n    return this.screen;\n  }\n  /**\n   * Show title screen.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.screen.classList.remove('h5p-ar-scavenger-display-none');\n  }\n  /**\n   * Hide title screen.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.screen.classList.add('h5p-ar-scavenger-display-none');\n  };\n\n  return ARScavengerScreenTitle;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi10aXRsZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2g1cC1hci1zY2F2ZW5nZXIvLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi10aXRsZS5qcz8yZDA3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCByZXF1aXJlZCBjbGFzc2VzXG5pbXBvcnQgVXRpbCBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItdXRpbCc7XG5cbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIGNvbnRlbnQgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFSU2NhdmVuZ2VyU2NyZWVuVGl0bGUge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgUGFyYW1ldGVyIGZyb20gZWRpdG9yLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2NhbGxiYWNrc10gQ2FsbGJhY2tzLlxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1zLCBjYWxsYmFja3MsIGNvbnRlbnRJZCkge1xuICAgIC8vIFNldCBtaXNzaW5nIHBhcmFtc1xuICAgIHRoaXMucGFyYW1zID0gVXRpbC5leHRlbmQoe1xuICAgICAgbDEwbjoge1xuICAgICAgICBzdGFydDogJ1N0YXJ0J1xuICAgICAgfVxuICAgIH0sIHBhcmFtcyB8fCB7fSk7XG5cbiAgICAvLyBTYW5pdGl6ZSBjYWxsYmFja3NcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7fTtcbiAgICB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlID0gdGhpcy5jYWxsYmFja3Mub25DbG9zZSB8fCAoKCkgPT4ge30pO1xuXG4gICAgLy8gU2NyZWVuXG4gICAgdGhpcy5zY3JlZW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnNjcmVlbi5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi10aXRsZScpO1xuXG4gICAgLy8gVGl0bGUgaW1hZ2UgKG9wdGlvbmFsKVxuICAgIGlmICh0aGlzLnBhcmFtcy50aXRsZVNjcmVlbkltYWdlICYmIHRoaXMucGFyYW1zLnRpdGxlU2NyZWVuSW1hZ2UucGFyYW1zICYmIHRoaXMucGFyYW1zLnRpdGxlU2NyZWVuSW1hZ2UucGFyYW1zLmZpbGUpIHtcbiAgICAgIGNvbnN0IGltYWdlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaW1hZ2VXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItc2NyZWVuLXRpdGxlLWltYWdlLXdyYXBwZXInKTtcbiAgICAgIEg1UC5uZXdSdW5uYWJsZShwYXJhbXMudGl0bGVTY3JlZW5JbWFnZSwgY29udGVudElkLCBINVAualF1ZXJ5KGltYWdlV3JhcHBlciksIGZhbHNlKTtcbiAgICAgIGNvbnN0IGltYWdlID0gaW1hZ2VXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1zY3JlZW4tdGl0bGUtaW1hZ2UnKTtcbiAgICAgIGltYWdlLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuXG4gICAgICBjb25zdCBiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGJhci5jbGFzc0xpc3QuYWRkKCdoNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi10aXRsZS1pbWFnZS1iYXInKTtcbiAgICAgIGltYWdlV3JhcHBlci5hcHBlbmRDaGlsZChiYXIpO1xuXG4gICAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChpbWFnZVdyYXBwZXIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmFtcy50aXRsZVNjcmVlbkludHJvZHVjdGlvbikge1xuICAgICAgY29uc3QgaW50cm9kdWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBpbnRyb2R1Y3Rpb24uY2xhc3NMaXN0LmFkZCgnaDVwLWFyLXNjYXZlbmdlci1zY3JlZW4tdGl0bGUtaW50cm9kdWN0aW9uJyk7XG4gICAgICBpbnRyb2R1Y3Rpb24uaW5uZXJIVE1MID0gdGhpcy5wYXJhbXMudGl0bGVTY3JlZW5JbnRyb2R1Y3Rpb247XG4gICAgICB0aGlzLnNjcmVlbi5hcHBlbmRDaGlsZChpbnRyb2R1Y3Rpb24pO1xuICAgIH1cblxuICAgIC8vIFN0YXJ0IGJ1dHRvblxuICAgIGNvbnN0IGJ1dHRvbiA9IEg1UC5Kb3ViZWxVSS5jcmVhdGVCdXR0b24oe1xuICAgICAgY2xhc3M6ICdoNXAtYXItc2NhdmVuZ2VyLXNjcmVlbi10aXRsZS1idXR0b24tc3RhcnQnLFxuICAgICAgdGV4dDogdGhpcy5wYXJhbXMubDEwbi5zdGFydCxcbiAgICAgIGNsaWNrOiB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlXG4gICAgfSkuZ2V0KDApO1xuXG4gICAgdGhpcy5zY3JlZW4uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIERPTSBmb3IgdGhpcyBjbGFzcy5cbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IERPTSBmb3IgdGhpcyBjbGFzcy5cbiAgICovXG4gIGdldERPTSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY3JlZW47XG4gIH1cblxuICAvKipcbiAgICogU2hvdyB0aXRsZSBzY3JlZW4uXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMuc2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZSB0aXRsZSBzY3JlZW4uXG4gICAqL1xuICBoaWRlKCkge1xuICAgIHRoaXMuc2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2g1cC1hci1zY2F2ZW5nZXItZGlzcGxheS1ub25lJyk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQU1BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-screen-title.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger-util.js":
/*!**********************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger-util.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/** Class for utility functions */\nvar Util = /*#__PURE__*/function () {\n  function Util() {}\n\n  /**\n   * Extend an array just like JQuery's extend.\n   * @param {object} arguments Objects to be merged.\n   * @return {object} Merged objects.\n   */\n  Util.extend = function extend() {\n    for (var i = 1; i < arguments.length; i++) {\n      for (var key in arguments[i]) {\n        if (arguments[i].hasOwnProperty(key)) {\n          if (_typeof(arguments[0][key]) === 'object' && _typeof(arguments[i][key]) === 'object') {\n            this.extend(arguments[0][key], arguments[i][key]);\n          } else {\n            arguments[0][key] = arguments[i][key];\n          }\n        }\n      }\n    }\n\n    return arguments[0];\n  }\n  /**\n   * Retrieve true string from HTML encoded string.\n   * @param {string} input Input string.\n   * @return {string} Output string.\n   */\n  ;\n\n  Util.htmlDecode = function htmlDecode(input) {\n    var dparser = new DOMParser().parseFromString(input, 'text/html');\n    return dparser.documentElement ? dparser.documentElement.textContent : '';\n  }\n  /**\n   * Format language tag (RFC 5646). Assuming \"language-coutry\". No validation.\n   * Cmp. https://tools.ietf.org/html/rfc5646\n   * @param {string} languageTag Language tag.\n   * @return {string} Formatted language tag.\n   */\n  ;\n\n  Util.formatLanguageCode = function formatLanguageCode(languageCode) {\n    if (typeof languageCode !== 'string') {\n      return languageCode;\n    }\n    /*\n     * RFC 5646 states that language tags are case insensitive, but\n     * recommendations may be followed to improve human interpretation\n     */\n\n\n    var segments = languageCode.split('-');\n    segments[0] = segments[0].toLowerCase(); // ISO 639 recommendation\n\n    if (segments.length > 1) {\n      segments[1] = segments[1].toUpperCase(); // ISO 3166-1 recommendation\n    }\n\n    languageCode = segments.join('-');\n    return languageCode;\n  };\n\n  return Util;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Util);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLXV0aWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oNXAtYXItc2NhdmVuZ2VyLy4vc3JjL3NjcmlwdHMvaDVwLWFyLXNjYXZlbmdlci11dGlsLmpzPzM5YmUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIENsYXNzIGZvciB1dGlsaXR5IGZ1bmN0aW9ucyAqL1xuY2xhc3MgVXRpbCB7XG4gIC8qKlxuICAgKiBFeHRlbmQgYW4gYXJyYXkganVzdCBsaWtlIEpRdWVyeSdzIGV4dGVuZC5cbiAgICogQHBhcmFtIHtvYmplY3R9IGFyZ3VtZW50cyBPYmplY3RzIHRvIGJlIG1lcmdlZC5cbiAgICogQHJldHVybiB7b2JqZWN0fSBNZXJnZWQgb2JqZWN0cy5cbiAgICovXG4gIHN0YXRpYyBleHRlbmQoKSB7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50c1tpXS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF1ba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGFyZ3VtZW50c1tpXVtrZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5leHRlbmQoYXJndW1lbnRzWzBdW2tleV0sIGFyZ3VtZW50c1tpXVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcmd1bWVudHNbMF1ba2V5XSA9IGFyZ3VtZW50c1tpXVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRydWUgc3RyaW5nIGZyb20gSFRNTCBlbmNvZGVkIHN0cmluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IElucHV0IHN0cmluZy5cbiAgICogQHJldHVybiB7c3RyaW5nfSBPdXRwdXQgc3RyaW5nLlxuICAgKi9cbiAgc3RhdGljIGh0bWxEZWNvZGUoaW5wdXQpIHtcbiAgICB2YXIgZHBhcnNlciA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaW5wdXQsICd0ZXh0L2h0bWwnKTtcbiAgICByZXR1cm4gZHBhcnNlci5kb2N1bWVudEVsZW1lbnQgPyBkcGFyc2VyLmRvY3VtZW50RWxlbWVudC50ZXh0Q29udGVudCA6ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBsYW5ndWFnZSB0YWcgKFJGQyA1NjQ2KS4gQXNzdW1pbmcgXCJsYW5ndWFnZS1jb3V0cnlcIi4gTm8gdmFsaWRhdGlvbi5cbiAgICogQ21wLiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNTY0NlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2VUYWcgTGFuZ3VhZ2UgdGFnLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvcm1hdHRlZCBsYW5ndWFnZSB0YWcuXG4gICAqL1xuICBzdGF0aWMgZm9ybWF0TGFuZ3VhZ2VDb2RlKGxhbmd1YWdlQ29kZSkge1xuICAgIGlmICh0eXBlb2YgbGFuZ3VhZ2VDb2RlICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGxhbmd1YWdlQ29kZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJGQyA1NjQ2IHN0YXRlcyB0aGF0IGxhbmd1YWdlIHRhZ3MgYXJlIGNhc2UgaW5zZW5zaXRpdmUsIGJ1dFxuICAgICAqIHJlY29tbWVuZGF0aW9ucyBtYXkgYmUgZm9sbG93ZWQgdG8gaW1wcm92ZSBodW1hbiBpbnRlcnByZXRhdGlvblxuICAgICAqL1xuICAgIGNvbnN0IHNlZ21lbnRzID0gbGFuZ3VhZ2VDb2RlLnNwbGl0KCctJyk7XG4gICAgc2VnbWVudHNbMF0gPSBzZWdtZW50c1swXS50b0xvd2VyQ2FzZSgpOyAvLyBJU08gNjM5IHJlY29tbWVuZGF0aW9uXG4gICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHNlZ21lbnRzWzFdID0gc2VnbWVudHNbMV0udG9VcHBlckNhc2UoKTsgLy8gSVNPIDMxNjYtMSByZWNvbW1lbmRhdGlvblxuICAgIH1cbiAgICBsYW5ndWFnZUNvZGUgPSBzZWdtZW50cy5qb2luKCctJyk7XG5cbiAgICByZXR1cm4gbGFuZ3VhZ2VDb2RlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFV0aWw7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBOzs7O0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger-util.js\n");

/***/ }),

/***/ "./src/scripts/h5p-ar-scavenger.js":
/*!*****************************************!*\
  !*** ./src/scripts/h5p-ar-scavenger.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ARScavenger)\n/* harmony export */ });\n/* harmony import */ var _h5p_ar_scavenger_content__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./h5p-ar-scavenger-content */ \"./src/scripts/h5p-ar-scavenger-content.js\");\n/* harmony import */ var _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./h5p-ar-scavenger-util */ \"./src/scripts/h5p-ar-scavenger-util.js\");\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n// Import required classes\n\n\n/** Class representing ARScavenger */\n\nvar ARScavenger = /*#__PURE__*/function (_H5P$Question) {\n  _inheritsLoose(ARScavenger, _H5P$Question);\n\n  /**\n   * @constructor\n   *\n   * @param {object} params Parameters passed by the editor.\n   * @param {number} contentId Content's id.\n   * @param {object} [extras={}] Saved state, metadata, etc.\n   */\n  function ARScavenger(params, contentId) {\n    var _this;\n\n    var extras = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _this = _H5P$Question.call(this, 'ar-scavenger') || this; // CSS class selector for content's iframe: h5p-ar-scavenger\n\n    _this.contentId = contentId;\n    /*\n     * this.params.behaviour.enableSolutionsButton and this.params.behaviour.enableRetry\n     * are used by H5P's question type contract.\n     * @see {@link https://h5p.org/documentation/developers/contracts#guides-header-8}\n     * @see {@link https://h5p.org/documentation/developers/contracts#guides-header-9}\n     */\n    // Sanitize params\n\n    _this.params = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__.default.extend({\n      titleScreen: {\n        showTitleScreen: false\n      },\n      canHasFullScreen: H5P.canHasFullScreen,\n      markers: [],\n      endScreen: {\n        showEndScreen: false\n      },\n      behaviour: {\n        enableSolutionsButton: false,\n        enableRetry: false,\n        fallbackHeight: 400\n      },\n      l10n: {\n        start: 'Start',\n        retry: 'Retry',\n        nothingToSee: 'Find a marker to see an interaction.',\n        errorBrowserNotSupported: 'It seems that your browser cannot run this content type, unfortunately.',\n        errorNoCameraAccess: 'Could not access camera.',\n        errorNoCameraSupport: 'Your browser does not seem to support a camera.',\n        errorNoMarkers: 'Did someone forget to add markers?',\n        warningBrave: 'You seem to be using the Brave browser. Nice! But its strict privacy settings may prevent the camera from working.',\n        initializingContent: 'Initializing content. Please don\\'t forget to allow camera access.'\n      },\n      a11y: {\n        buttonFullScreenEnter: 'Enter fullscreen mode',\n        buttonFullScreenExit: 'Exit fullscreen mode',\n        buttonSwitchViewAction: 'Switch to an exercise',\n        buttonSwitchViewCamera: 'Switch to the camera',\n        buttonSwitchViewDisabled: 'You cannot switch the view right now',\n        buttonQuit: 'Quit exercise',\n        buttonQuitDisabled: 'You have not yet completed all exercises',\n        actionOpened: 'The view has switched to an exercise.',\n        actionClosed: 'The view has switched to the camera.'\n      },\n      minWidthForDualView: ARScavenger.MIN_WIDTH_FOR_DUALVIEW\n    }, params); // Filter out incomplete markers\n\n    _this.params.markers = _this.params.markers.filter(function (marker) {\n      return marker.markerImage && marker.markerPattern && (marker.actionType === 'h5p' && marker.interaction && marker.interaction.interaction || marker.actionType === 'model' && marker.model && marker.model.file);\n    }); // Sanitize extras\n\n    _this.extras = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__.default.extend({\n      metadata: {\n        title: 'ARScavenger'\n      }\n    }, extras);\n    var defaultLanguage = extras.metadata.defaultLanguage || 'en';\n    _this.languageTag = _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__.default.formatLanguageCode(defaultLanguage);\n\n    if (_this.params.canHasFullScreen) {\n      _this.on('enterFullScreen', function () {\n        _this.content.setFullScreen(true);\n      });\n\n      _this.on('exitFullScreen', function () {\n        _this.content.setFullScreen(false);\n      });\n    }\n    /**\n     * Register the DOM elements with H5P.Question\n     */\n\n\n    _this.registerDomElements = function () {\n      // On desktop, action might be wanted to be open on startup\n      _this.params.behaviour.showActionOnStartup = _this.params.behaviour.showActionOnStartup && document.querySelector('.h5p-container').offsetWidth >= ARScavenger.MIN_WIDTH_FOR_DUALVIEW;\n      _this.content = new _h5p_ar_scavenger_content__WEBPACK_IMPORTED_MODULE_0__.default(_this.params, _this.contentId, _this.extras, {\n        onFullScreen: _this.toggleFullScreen,\n        onQuit: _this.handleCompleted,\n        onRead: _this.read,\n        onResize: _this.resize\n      }); // Register content with H5P.Question\n\n      _this.setContent(_this.content.getDOM());\n    };\n    /**\n     * Handle activation of fullscreen button.\n     * @param {object} event Event that is calling.\n     */\n\n\n    _this.toggleFullScreen = function () {\n      if (H5P.canHasFullScreen !== true) {\n        return;\n      }\n\n      if (H5P.isFullscreen === true) {\n        H5P.exitFullScreen();\n      } else {\n        H5P.fullScreen(H5P.jQuery(document.querySelector('.h5p-container')), _assertThisInitialized(_this));\n      }\n    };\n    /**\n     * Handle content completed.\n     */\n\n\n    _this.handleCompleted = function () {\n      // Let xAPI event of children trigger first\n      setTimeout(function () {\n        var xAPIData = _this.getXAPIData();\n\n        var xAPIEvent = new H5P.XAPIEvent();\n        xAPIEvent.data.children = xAPIData.children;\n        xAPIEvent.data.statement = xAPIData.statement;\n\n        _this.trigger(xAPIEvent);\n      }, 0);\n    };\n    /**\n     * Check if result has been submitted or input has been given.\n     * @return {boolean} True, if answer was given.\n     * @see contract at {@link https://h5p.org/documentation/developers/contracts#guides-header-1}\n     */\n\n\n    _this.getAnswerGiven = function () {\n      return _this.content.getAnswerGiven();\n    };\n    /**\n     * Get latest score.\n     * @return {number} latest score.\n     * @see contract at {@link https://h5p.org/documentation/developers/contracts#guides-header-2}\n     */\n\n\n    _this.getScore = function () {\n      return _this.content.getScore();\n    };\n    /**\n     * Get maximum possible score\n     * @return {number} Score necessary for mastering.\n     * @see contract at {@link https://h5p.org/documentation/developers/contracts#guides-header-3}\n     */\n\n\n    _this.getMaxScore = function () {\n      return _this.content.getMaxScore();\n    };\n    /**\n     * Show solutions.\n     * @see contract at {@link https://h5p.org/documentation/developers/contracts#guides-header-4}\n     */\n\n\n    _this.showSolutions = function () {\n      _this.content.showSolutions();\n    };\n    /**\n     * Reset task.\n     * @see contract at {@link https://h5p.org/documentation/developers/contracts#guides-header-5}\n     */\n\n\n    _this.resetTask = function () {\n      _this.content.reset();\n    };\n    /**\n     * Resize Listener.\n     */\n\n\n    _this.on('resize', function (event) {\n      // Initial resizing of content after DOM is ready.\n      if (event.data && event.data[\"break\"] === true) {\n        return;\n      }\n\n      _this.content.resize();\n    });\n    /**\n     * Resize.\n     */\n\n\n    _this.resize = function () {\n      _this.trigger('resize', {\n        \"break\": true\n      });\n    };\n    /**\n     * Get xAPI data.\n     * @return {object} XAPI statement.\n     * @see contract at {@link https://h5p.org/documentation/developers/contracts#guides-header-6}\n     */\n\n\n    _this.getXAPIData = function () {\n      return {\n        children: _this.content.getXAPIDataFromChildren(),\n        statement: _this.getXAPIAnswerEvent().data.statement\n      };\n    };\n    /**\n     * Build xAPI answer event.\n     * @return {H5P.XAPIEvent} XAPI answer event.\n     */\n\n\n    _this.getXAPIAnswerEvent = function () {\n      var xAPIEvent = _this.createXAPIEvent('answered');\n\n      xAPIEvent.setScoredResult(_this.getScore(), _this.getMaxScore(), _assertThisInitialized(_this), _this.getAnswerGiven(), _this.isPassed());\n      return xAPIEvent;\n    };\n    /**\n     * Create an xAPI event.\n     * @param {string} verb Short id of the verb we want to trigger.\n     * @return {H5P.XAPIEvent} Event template.\n     */\n\n\n    _this.createXAPIEvent = function (verb) {\n      var xAPIEvent = _this.createXAPIEventTemplate(verb);\n\n      _h5p_ar_scavenger_util__WEBPACK_IMPORTED_MODULE_1__.default.extend(xAPIEvent.getVerifiedStatementValue(['object', 'definition']), _this.getxAPIDefinition());\n      return xAPIEvent;\n    };\n    /**\n     * Get the xAPI definition for the xAPI object.\n     * @return {object} XAPI definition.\n     */\n\n\n    _this.getxAPIDefinition = function () {\n      var definition = {};\n      definition.name = {};\n      definition.name[_this.languageTag] = _this.getTitle(); // Fallback for h5p-php-reporting, expects en-US\n\n      definition.name['en-US'] = definition.name[_this.languageTag];\n      definition.description = {};\n      definition.description[_this.languageTag] = _this.getDescription(); // Fallback for h5p-php-reporting, expects en-US\n\n      definition.description['en-US'] = definition.description[_this.languageTag];\n      definition.type = 'http://adlnet.gov/expapi/activities/cmi.interaction';\n      definition.interactionType = 'compound';\n      return definition;\n    };\n    /**\n     * Determine whether the task has been passed by the user.\n     * @return {boolean} True if user passed or task is not scored.\n     */\n\n\n    _this.isPassed = function () {\n      return _this.content.getScore() === _this.content.getMaxScore();\n    };\n    /**\n     * Get tasks title.\n     * @return {string} Title.\n     */\n\n\n    _this.getTitle = function () {\n      var raw;\n\n      if (_this.extras.metadata) {\n        raw = _this.extras.metadata.title;\n      }\n\n      raw = raw || ARScavenger.DEFAULT_DESCRIPTION;\n      return H5P.createTitle(raw);\n    };\n    /**\n     * Get tasks description.\n     * @return {string} Description.\n     */\n\n\n    _this.getDescription = function () {\n      return _this.params.taskDescription || ARScavenger.DEFAULT_DESCRIPTION;\n    };\n    /**\n     * Answer call to return the current state.\n     * @return {object} Current state.\n     */\n\n\n    _this.getCurrentState = function () {\n      return _this.content.getCurrentState();\n    };\n\n    return _this;\n  }\n\n  return ARScavenger;\n}(H5P.Question);\n/** @constant {string} */\n\n\n\nARScavenger.DEFAULT_DESCRIPTION = 'ARScavenger';\n/** @constant {number} */\n\nARScavenger.MIN_WIDTH_FOR_DUALVIEW = 1024;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9oNXAtYXItc2NhdmVuZ2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaDVwLWFyLXNjYXZlbmdlci8uL3NyYy9zY3JpcHRzL2g1cC1hci1zY2F2ZW5nZXIuanM/ZDQyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnQgcmVxdWlyZWQgY2xhc3Nlc1xuaW1wb3J0IEFSU2NhdmVuZ2VyQ29udGVudCBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItY29udGVudCc7XG5pbXBvcnQgVXRpbCBmcm9tICcuL2g1cC1hci1zY2F2ZW5nZXItdXRpbCc7XG5cbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgQVJTY2F2ZW5nZXIgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFSU2NhdmVuZ2VyIGV4dGVuZHMgSDVQLlF1ZXN0aW9uIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIFBhcmFtZXRlcnMgcGFzc2VkIGJ5IHRoZSBlZGl0b3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb250ZW50SWQgQ29udGVudCdzIGlkLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2V4dHJhcz17fV0gU2F2ZWQgc3RhdGUsIG1ldGFkYXRhLCBldGMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXMsIGNvbnRlbnRJZCwgZXh0cmFzID0ge30pIHtcbiAgICBzdXBlcignYXItc2NhdmVuZ2VyJyk7IC8vIENTUyBjbGFzcyBzZWxlY3RvciBmb3IgY29udGVudCdzIGlmcmFtZTogaDVwLWFyLXNjYXZlbmdlclxuXG4gICAgdGhpcy5jb250ZW50SWQgPSBjb250ZW50SWQ7XG5cbiAgICAvKlxuICAgICAqIHRoaXMucGFyYW1zLmJlaGF2aW91ci5lbmFibGVTb2x1dGlvbnNCdXR0b24gYW5kIHRoaXMucGFyYW1zLmJlaGF2aW91ci5lbmFibGVSZXRyeVxuICAgICAqIGFyZSB1c2VkIGJ5IEg1UCdzIHF1ZXN0aW9uIHR5cGUgY29udHJhY3QuXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9oNXAub3JnL2RvY3VtZW50YXRpb24vZGV2ZWxvcGVycy9jb250cmFjdHMjZ3VpZGVzLWhlYWRlci04fVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaDVwLm9yZy9kb2N1bWVudGF0aW9uL2RldmVsb3BlcnMvY29udHJhY3RzI2d1aWRlcy1oZWFkZXItOX1cbiAgICAgKi9cblxuICAgIC8vIFNhbml0aXplIHBhcmFtc1xuICAgIHRoaXMucGFyYW1zID0gVXRpbC5leHRlbmQoe1xuICAgICAgdGl0bGVTY3JlZW46IHtcbiAgICAgICAgc2hvd1RpdGxlU2NyZWVuOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGNhbkhhc0Z1bGxTY3JlZW46IEg1UC5jYW5IYXNGdWxsU2NyZWVuLFxuICAgICAgbWFya2VyczogW10sXG4gICAgICBlbmRTY3JlZW46IHtcbiAgICAgICAgc2hvd0VuZFNjcmVlbjogZmFsc2VcbiAgICAgIH0sXG4gICAgICBiZWhhdmlvdXI6IHtcbiAgICAgICAgZW5hYmxlU29sdXRpb25zQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgZW5hYmxlUmV0cnk6IGZhbHNlLFxuICAgICAgICBmYWxsYmFja0hlaWdodDogNDAwXG4gICAgICB9LFxuICAgICAgbDEwbjoge1xuICAgICAgICBzdGFydDogJ1N0YXJ0JyxcbiAgICAgICAgcmV0cnk6ICdSZXRyeScsXG4gICAgICAgIG5vdGhpbmdUb1NlZTogJ0ZpbmQgYSBtYXJrZXIgdG8gc2VlIGFuIGludGVyYWN0aW9uLicsXG4gICAgICAgIGVycm9yQnJvd3Nlck5vdFN1cHBvcnRlZDogJ0l0IHNlZW1zIHRoYXQgeW91ciBicm93c2VyIGNhbm5vdCBydW4gdGhpcyBjb250ZW50IHR5cGUsIHVuZm9ydHVuYXRlbHkuJyxcbiAgICAgICAgZXJyb3JOb0NhbWVyYUFjY2VzczogJ0NvdWxkIG5vdCBhY2Nlc3MgY2FtZXJhLicsXG4gICAgICAgIGVycm9yTm9DYW1lcmFTdXBwb3J0OiAnWW91ciBicm93c2VyIGRvZXMgbm90IHNlZW0gdG8gc3VwcG9ydCBhIGNhbWVyYS4nLFxuICAgICAgICBlcnJvck5vTWFya2VyczogJ0RpZCBzb21lb25lIGZvcmdldCB0byBhZGQgbWFya2Vycz8nLFxuICAgICAgICB3YXJuaW5nQnJhdmU6ICdZb3Ugc2VlbSB0byBiZSB1c2luZyB0aGUgQnJhdmUgYnJvd3Nlci4gTmljZSEgQnV0IGl0cyBzdHJpY3QgcHJpdmFjeSBzZXR0aW5ncyBtYXkgcHJldmVudCB0aGUgY2FtZXJhIGZyb20gd29ya2luZy4nLFxuICAgICAgICBpbml0aWFsaXppbmdDb250ZW50OiAnSW5pdGlhbGl6aW5nIGNvbnRlbnQuIFBsZWFzZSBkb25cXCd0IGZvcmdldCB0byBhbGxvdyBjYW1lcmEgYWNjZXNzLidcbiAgICAgIH0sXG4gICAgICBhMTF5OiB7XG4gICAgICAgIGJ1dHRvbkZ1bGxTY3JlZW5FbnRlcjogJ0VudGVyIGZ1bGxzY3JlZW4gbW9kZScsXG4gICAgICAgIGJ1dHRvbkZ1bGxTY3JlZW5FeGl0OiAnRXhpdCBmdWxsc2NyZWVuIG1vZGUnLFxuICAgICAgICBidXR0b25Td2l0Y2hWaWV3QWN0aW9uOiAnU3dpdGNoIHRvIGFuIGV4ZXJjaXNlJyxcbiAgICAgICAgYnV0dG9uU3dpdGNoVmlld0NhbWVyYTogJ1N3aXRjaCB0byB0aGUgY2FtZXJhJyxcbiAgICAgICAgYnV0dG9uU3dpdGNoVmlld0Rpc2FibGVkOiAnWW91IGNhbm5vdCBzd2l0Y2ggdGhlIHZpZXcgcmlnaHQgbm93JyxcbiAgICAgICAgYnV0dG9uUXVpdDogJ1F1aXQgZXhlcmNpc2UnLFxuICAgICAgICBidXR0b25RdWl0RGlzYWJsZWQ6ICdZb3UgaGF2ZSBub3QgeWV0IGNvbXBsZXRlZCBhbGwgZXhlcmNpc2VzJyxcbiAgICAgICAgYWN0aW9uT3BlbmVkOiAnVGhlIHZpZXcgaGFzIHN3aXRjaGVkIHRvIGFuIGV4ZXJjaXNlLicsXG4gICAgICAgIGFjdGlvbkNsb3NlZDogJ1RoZSB2aWV3IGhhcyBzd2l0Y2hlZCB0byB0aGUgY2FtZXJhLicsXG4gICAgICB9LFxuICAgICAgbWluV2lkdGhGb3JEdWFsVmlldzogQVJTY2F2ZW5nZXIuTUlOX1dJRFRIX0ZPUl9EVUFMVklFV1xuICAgIH0sIHBhcmFtcyk7XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGluY29tcGxldGUgbWFya2Vyc1xuICAgIHRoaXMucGFyYW1zLm1hcmtlcnMgPSB0aGlzLnBhcmFtcy5tYXJrZXJzLmZpbHRlcihtYXJrZXIgPT5cbiAgICAgIG1hcmtlci5tYXJrZXJJbWFnZSAmJiBtYXJrZXIubWFya2VyUGF0dGVybiAmJlxuICAgICAgICAoXG4gICAgICAgICAgbWFya2VyLmFjdGlvblR5cGUgPT09ICdoNXAnICYmIG1hcmtlci5pbnRlcmFjdGlvbiAmJiBtYXJrZXIuaW50ZXJhY3Rpb24uaW50ZXJhY3Rpb24gfHxcbiAgICAgICAgICBtYXJrZXIuYWN0aW9uVHlwZSA9PT0gJ21vZGVsJyAmJiBtYXJrZXIubW9kZWwgJiYgbWFya2VyLm1vZGVsLmZpbGVcbiAgICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBTYW5pdGl6ZSBleHRyYXNcbiAgICB0aGlzLmV4dHJhcyA9IFV0aWwuZXh0ZW5kKHtcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIHRpdGxlOiAnQVJTY2F2ZW5nZXInLFxuICAgICAgfVxuICAgIH0sIGV4dHJhcyk7XG5cbiAgICBjb25zdCBkZWZhdWx0TGFuZ3VhZ2UgPSBleHRyYXMubWV0YWRhdGEuZGVmYXVsdExhbmd1YWdlIHx8ICdlbic7XG4gICAgdGhpcy5sYW5ndWFnZVRhZyA9IFV0aWwuZm9ybWF0TGFuZ3VhZ2VDb2RlKGRlZmF1bHRMYW5ndWFnZSk7XG5cbiAgICBpZiAodGhpcy5wYXJhbXMuY2FuSGFzRnVsbFNjcmVlbikge1xuICAgICAgdGhpcy5vbignZW50ZXJGdWxsU2NyZWVuJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbnRlbnQuc2V0RnVsbFNjcmVlbih0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLm9uKCdleGl0RnVsbFNjcmVlbicsICgpID0+IHtcbiAgICAgICAgdGhpcy5jb250ZW50LnNldEZ1bGxTY3JlZW4oZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgdGhlIERPTSBlbGVtZW50cyB3aXRoIEg1UC5RdWVzdGlvblxuICAgICAqL1xuICAgIHRoaXMucmVnaXN0ZXJEb21FbGVtZW50cyA9ICgpID0+IHtcbiAgICAgIC8vIE9uIGRlc2t0b3AsIGFjdGlvbiBtaWdodCBiZSB3YW50ZWQgdG8gYmUgb3BlbiBvbiBzdGFydHVwXG4gICAgICB0aGlzLnBhcmFtcy5iZWhhdmlvdXIuc2hvd0FjdGlvbk9uU3RhcnR1cCA9IHRoaXMucGFyYW1zLmJlaGF2aW91ci5zaG93QWN0aW9uT25TdGFydHVwICYmXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oNXAtY29udGFpbmVyJykub2Zmc2V0V2lkdGggPj0gQVJTY2F2ZW5nZXIuTUlOX1dJRFRIX0ZPUl9EVUFMVklFVztcblxuICAgICAgdGhpcy5jb250ZW50ID0gbmV3IEFSU2NhdmVuZ2VyQ29udGVudCh0aGlzLnBhcmFtcywgdGhpcy5jb250ZW50SWQsIHRoaXMuZXh0cmFzLCB7XG4gICAgICAgIG9uRnVsbFNjcmVlbjogdGhpcy50b2dnbGVGdWxsU2NyZWVuLFxuICAgICAgICBvblF1aXQ6IHRoaXMuaGFuZGxlQ29tcGxldGVkLFxuICAgICAgICBvblJlYWQ6IHRoaXMucmVhZCxcbiAgICAgICAgb25SZXNpemU6IHRoaXMucmVzaXplXG4gICAgICB9KTtcblxuICAgICAgLy8gUmVnaXN0ZXIgY29udGVudCB3aXRoIEg1UC5RdWVzdGlvblxuICAgICAgdGhpcy5zZXRDb250ZW50KHRoaXMuY29udGVudC5nZXRET00oKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhY3RpdmF0aW9uIG9mIGZ1bGxzY3JlZW4gYnV0dG9uLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBFdmVudCB0aGF0IGlzIGNhbGxpbmcuXG4gICAgICovXG4gICAgdGhpcy50b2dnbGVGdWxsU2NyZWVuID0gKCkgPT4ge1xuICAgICAgaWYgKEg1UC5jYW5IYXNGdWxsU2NyZWVuICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKEg1UC5pc0Z1bGxzY3JlZW4gPT09IHRydWUpIHtcbiAgICAgICAgSDVQLmV4aXRGdWxsU2NyZWVuKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgSDVQLmZ1bGxTY3JlZW4oSDVQLmpRdWVyeShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaDVwLWNvbnRhaW5lcicpKSwgdGhpcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjb250ZW50IGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICB0aGlzLmhhbmRsZUNvbXBsZXRlZCA9ICgpID0+IHtcbiAgICAgIC8vIExldCB4QVBJIGV2ZW50IG9mIGNoaWxkcmVuIHRyaWdnZXIgZmlyc3RcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCB4QVBJRGF0YSA9IHRoaXMuZ2V0WEFQSURhdGEoKTtcbiAgICAgICAgY29uc3QgeEFQSUV2ZW50ID0gbmV3IEg1UC5YQVBJRXZlbnQoKTtcbiAgICAgICAgeEFQSUV2ZW50LmRhdGEuY2hpbGRyZW4gPSB4QVBJRGF0YS5jaGlsZHJlbjtcbiAgICAgICAgeEFQSUV2ZW50LmRhdGEuc3RhdGVtZW50ID0geEFQSURhdGEuc3RhdGVtZW50O1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcih4QVBJRXZlbnQpO1xuICAgICAgfSwgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHJlc3VsdCBoYXMgYmVlbiBzdWJtaXR0ZWQgb3IgaW5wdXQgaGFzIGJlZW4gZ2l2ZW4uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSwgaWYgYW5zd2VyIHdhcyBnaXZlbi5cbiAgICAgKiBAc2VlIGNvbnRyYWN0IGF0IHtAbGluayBodHRwczovL2g1cC5vcmcvZG9jdW1lbnRhdGlvbi9kZXZlbG9wZXJzL2NvbnRyYWN0cyNndWlkZXMtaGVhZGVyLTF9XG4gICAgICovXG4gICAgdGhpcy5nZXRBbnN3ZXJHaXZlbiA9ICgpID0+IHRoaXMuY29udGVudC5nZXRBbnN3ZXJHaXZlbigpO1xuXG4gICAgLyoqXG4gICAgICogR2V0IGxhdGVzdCBzY29yZS5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGxhdGVzdCBzY29yZS5cbiAgICAgKiBAc2VlIGNvbnRyYWN0IGF0IHtAbGluayBodHRwczovL2g1cC5vcmcvZG9jdW1lbnRhdGlvbi9kZXZlbG9wZXJzL2NvbnRyYWN0cyNndWlkZXMtaGVhZGVyLTJ9XG4gICAgICovXG4gICAgdGhpcy5nZXRTY29yZSA9ICgpID0+IHRoaXMuY29udGVudC5nZXRTY29yZSgpO1xuXG4gICAgLyoqXG4gICAgICogR2V0IG1heGltdW0gcG9zc2libGUgc2NvcmVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFNjb3JlIG5lY2Vzc2FyeSBmb3IgbWFzdGVyaW5nLlxuICAgICAqIEBzZWUgY29udHJhY3QgYXQge0BsaW5rIGh0dHBzOi8vaDVwLm9yZy9kb2N1bWVudGF0aW9uL2RldmVsb3BlcnMvY29udHJhY3RzI2d1aWRlcy1oZWFkZXItM31cbiAgICAgKi9cbiAgICB0aGlzLmdldE1heFNjb3JlID0gKCkgPT4gdGhpcy5jb250ZW50LmdldE1heFNjb3JlKCk7XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHNvbHV0aW9ucy5cbiAgICAgKiBAc2VlIGNvbnRyYWN0IGF0IHtAbGluayBodHRwczovL2g1cC5vcmcvZG9jdW1lbnRhdGlvbi9kZXZlbG9wZXJzL2NvbnRyYWN0cyNndWlkZXMtaGVhZGVyLTR9XG4gICAgICovXG4gICAgdGhpcy5zaG93U29sdXRpb25zID0gKCkgPT4ge1xuICAgICAgdGhpcy5jb250ZW50LnNob3dTb2x1dGlvbnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGFzay5cbiAgICAgKiBAc2VlIGNvbnRyYWN0IGF0IHtAbGluayBodHRwczovL2g1cC5vcmcvZG9jdW1lbnRhdGlvbi9kZXZlbG9wZXJzL2NvbnRyYWN0cyNndWlkZXMtaGVhZGVyLTV9XG4gICAgICovXG4gICAgdGhpcy5yZXNldFRhc2sgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRlbnQucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplIExpc3RlbmVyLlxuICAgICAqL1xuICAgIHRoaXMub24oJ3Jlc2l6ZScsIChldmVudCkgPT4ge1xuICAgICAgLy8gSW5pdGlhbCByZXNpemluZyBvZiBjb250ZW50IGFmdGVyIERPTSBpcyByZWFkeS5cbiAgICAgIGlmIChldmVudC5kYXRhICYmIGV2ZW50LmRhdGEuYnJlYWsgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbnRlbnQucmVzaXplKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUuXG4gICAgICovXG4gICAgdGhpcy5yZXNpemUgPSAoKSA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ3Jlc2l6ZScsIHticmVhazogdHJ1ZX0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgeEFQSSBkYXRhLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gWEFQSSBzdGF0ZW1lbnQuXG4gICAgICogQHNlZSBjb250cmFjdCBhdCB7QGxpbmsgaHR0cHM6Ly9oNXAub3JnL2RvY3VtZW50YXRpb24vZGV2ZWxvcGVycy9jb250cmFjdHMjZ3VpZGVzLWhlYWRlci02fVxuICAgICAqL1xuICAgIHRoaXMuZ2V0WEFQSURhdGEgPSAoKSA9PiAoe1xuICAgICAgY2hpbGRyZW46IHRoaXMuY29udGVudC5nZXRYQVBJRGF0YUZyb21DaGlsZHJlbigpLFxuICAgICAgc3RhdGVtZW50OiB0aGlzLmdldFhBUElBbnN3ZXJFdmVudCgpLmRhdGEuc3RhdGVtZW50XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZCB4QVBJIGFuc3dlciBldmVudC5cbiAgICAgKiBAcmV0dXJuIHtINVAuWEFQSUV2ZW50fSBYQVBJIGFuc3dlciBldmVudC5cbiAgICAgKi9cbiAgICB0aGlzLmdldFhBUElBbnN3ZXJFdmVudCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHhBUElFdmVudCA9IHRoaXMuY3JlYXRlWEFQSUV2ZW50KCdhbnN3ZXJlZCcpO1xuXG4gICAgICB4QVBJRXZlbnQuc2V0U2NvcmVkUmVzdWx0KHRoaXMuZ2V0U2NvcmUoKSwgdGhpcy5nZXRNYXhTY29yZSgpLCB0aGlzLCB0aGlzLmdldEFuc3dlckdpdmVuKCksIHRoaXMuaXNQYXNzZWQoKSk7XG5cbiAgICAgIHJldHVybiB4QVBJRXZlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiB4QVBJIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJiIFNob3J0IGlkIG9mIHRoZSB2ZXJiIHdlIHdhbnQgdG8gdHJpZ2dlci5cbiAgICAgKiBAcmV0dXJuIHtINVAuWEFQSUV2ZW50fSBFdmVudCB0ZW1wbGF0ZS5cbiAgICAgKi9cbiAgICB0aGlzLmNyZWF0ZVhBUElFdmVudCA9ICh2ZXJiKSA9PiB7XG4gICAgICBjb25zdCB4QVBJRXZlbnQgPSB0aGlzLmNyZWF0ZVhBUElFdmVudFRlbXBsYXRlKHZlcmIpO1xuICAgICAgVXRpbC5leHRlbmQoXG4gICAgICAgIHhBUElFdmVudC5nZXRWZXJpZmllZFN0YXRlbWVudFZhbHVlKFsnb2JqZWN0JywgJ2RlZmluaXRpb24nXSksXG4gICAgICAgIHRoaXMuZ2V0eEFQSURlZmluaXRpb24oKSk7XG4gICAgICByZXR1cm4geEFQSUV2ZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHhBUEkgZGVmaW5pdGlvbiBmb3IgdGhlIHhBUEkgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gWEFQSSBkZWZpbml0aW9uLlxuICAgICAqL1xuICAgIHRoaXMuZ2V0eEFQSURlZmluaXRpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCBkZWZpbml0aW9uID0ge307XG4gICAgICBkZWZpbml0aW9uLm5hbWUgPSB7fTtcbiAgICAgIGRlZmluaXRpb24ubmFtZVt0aGlzLmxhbmd1YWdlVGFnXSA9IHRoaXMuZ2V0VGl0bGUoKTtcbiAgICAgIC8vIEZhbGxiYWNrIGZvciBoNXAtcGhwLXJlcG9ydGluZywgZXhwZWN0cyBlbi1VU1xuICAgICAgZGVmaW5pdGlvbi5uYW1lWydlbi1VUyddID0gZGVmaW5pdGlvbi5uYW1lW3RoaXMubGFuZ3VhZ2VUYWddO1xuICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvbiA9IHt9O1xuICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvblt0aGlzLmxhbmd1YWdlVGFnXSA9IHRoaXMuZ2V0RGVzY3JpcHRpb24oKTtcbiAgICAgIC8vIEZhbGxiYWNrIGZvciBoNXAtcGhwLXJlcG9ydGluZywgZXhwZWN0cyBlbi1VU1xuICAgICAgZGVmaW5pdGlvbi5kZXNjcmlwdGlvblsnZW4tVVMnXSA9IGRlZmluaXRpb24uZGVzY3JpcHRpb25bdGhpcy5sYW5ndWFnZVRhZ107XG5cbiAgICAgIGRlZmluaXRpb24udHlwZSA9ICdodHRwOi8vYWRsbmV0Lmdvdi9leHBhcGkvYWN0aXZpdGllcy9jbWkuaW50ZXJhY3Rpb24nO1xuICAgICAgZGVmaW5pdGlvbi5pbnRlcmFjdGlvblR5cGUgPSAnY29tcG91bmQnO1xuXG4gICAgICByZXR1cm4gZGVmaW5pdGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHRhc2sgaGFzIGJlZW4gcGFzc2VkIGJ5IHRoZSB1c2VyLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdXNlciBwYXNzZWQgb3IgdGFzayBpcyBub3Qgc2NvcmVkLlxuICAgICAqL1xuICAgIHRoaXMuaXNQYXNzZWQgPSAoKSA9PiB0aGlzLmNvbnRlbnQuZ2V0U2NvcmUoKSA9PT0gdGhpcy5jb250ZW50LmdldE1heFNjb3JlKCk7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGFza3MgdGl0bGUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaXRsZS5cbiAgICAgKi9cbiAgICB0aGlzLmdldFRpdGxlID0gKCkgPT4ge1xuICAgICAgbGV0IHJhdztcbiAgICAgIGlmICh0aGlzLmV4dHJhcy5tZXRhZGF0YSkge1xuICAgICAgICByYXcgPSB0aGlzLmV4dHJhcy5tZXRhZGF0YS50aXRsZTtcbiAgICAgIH1cbiAgICAgIHJhdyA9IHJhdyB8fCBBUlNjYXZlbmdlci5ERUZBVUxUX0RFU0NSSVBUSU9OO1xuXG4gICAgICByZXR1cm4gSDVQLmNyZWF0ZVRpdGxlKHJhdyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0YXNrcyBkZXNjcmlwdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IERlc2NyaXB0aW9uLlxuICAgICAqL1xuICAgIHRoaXMuZ2V0RGVzY3JpcHRpb24gPSAoKSA9PiB0aGlzLnBhcmFtcy50YXNrRGVzY3JpcHRpb24gfHwgQVJTY2F2ZW5nZXIuREVGQVVMVF9ERVNDUklQVElPTjtcblxuICAgIC8qKlxuICAgICAqIEFuc3dlciBjYWxsIHRvIHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IEN1cnJlbnQgc3RhdGUuXG4gICAgICovXG4gICAgdGhpcy5nZXRDdXJyZW50U3RhdGUgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZW50LmdldEN1cnJlbnRTdGF0ZSgpO1xuICAgIH07XG4gIH1cbn1cblxuLyoqIEBjb25zdGFudCB7c3RyaW5nfSAqL1xuQVJTY2F2ZW5nZXIuREVGQVVMVF9ERVNDUklQVElPTiA9ICdBUlNjYXZlbmdlcic7XG5cbi8qKiBAY29uc3RhbnQge251bWJlcn0gKi9cbkFSU2NhdmVuZ2VyLk1JTl9XSURUSF9GT1JfRFVBTFZJRVcgPSAxMDI0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFwQ0E7QUFDQTtBQXVDQTtBQUFBO0FBQUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBclJBO0FBcVJBO0FBQ0E7O0FBOVJBO0FBZ1NBO0FBQ0E7QUFDQTtBQWxTQTtBQWlTQTtBQUVBO0FBQ0E7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/h5p-ar-scavenger.js\n");

/***/ }),

/***/ "./src/styles/h5p-ar-scavenger.css":
/*!*****************************************!*\
  !*** ./src/styles/h5p-ar-scavenger.css ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGVzL2g1cC1hci1zY2F2ZW5nZXIuY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaDVwLWFyLXNjYXZlbmdlci8uL3NyYy9zdHlsZXMvaDVwLWFyLXNjYXZlbmdlci5jc3M/ZTE1MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibWFwcGluZ3MiOiI7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/styles/h5p-ar-scavenger.css\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/entries/h5p-ar-scavenger.js");
/******/ 	
/******/ })()
;